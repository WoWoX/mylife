<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>SmartFoxClient</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><link rel="stylesheet" type="text/css" href="../css/VisDoc.css" /><script src="../js/jquery.js" type="text/javascript">//</script><script src="../js/common.js" type="text/javascript">//</script><script src="../js/doc.js" type="text/javascript">//</script></head><body id="page_it_gotoandplay_smartfoxserver_SmartFoxClient"><script type="text/javascript">VisDoc.initBody();</script><div id="PageTop"><!----></div><div class="VisDoc"><div class="content"><div class="docNav"><ul><li><div id="twistyTOC_show" class="twistyTrigger twikiUnvisited twikiMakeVisible twistyInited activeWhenNotFramed"><a href="#"><span class="icon">+</span>Show TOC</a></div><script type="text/javascript">twiki.JQueryTwistyPlugin.initId("twistyTOC_show");</script><div id="twistyTOC_hide" class="twistyTrigger twikiUnvisited twikiMakeVisible twistyInited activeWhenFramed"><a href="#"><span class="icon">&times;</span>Hide TOC</a></div><span id="twistyTOC_toggle" class="twistyContent"><!----></span><script type="text/javascript">twiki.JQueryTwistyPlugin.initId("twistyTOC_hide");</script></li></ul><ul class="accessKeyLinks"><li><a href="#PageTop" accesskey="t"><span class="accessKey">T</span>op</a></li><li><a href="#Summary" accesskey="s"><span class="accessKey">S</span>ummary</a></li><li><a href="#Constructor" accesskey="c"><span class="accessKey">C</span>onstructors</a></li><li><a href="#Classproperties" accesskey="l">C<span class="accessKey">l</span>ass properties</a></li><li><a href="#Instanceproperties" accesskey="l">Instance <span class="accessKey">p</span>roperties</a></li><li><a href="#Instancemethods" accesskey="m">Instance <span class="accessKey">m</span>ethods</a></li><li><a href="#Eventhandlers" accesskey="e"><span class="accessKey">E</span>vent handlers</a></li></ul><br class="clear" /></div><h1>SmartFoxClient</h1><div class="classProperties"><table cellspacing="0"><tr><th align="left">Kind of class:</th><td>class</td></tr><tr><th align="left">Inherits from:</th><td>XMLSocket</td></tr><tr><th class="classDetails" align="left">Version:</th><td class="classDetails">1.5.8</td></tr><tr><th class="classDetails" align="left">Author:</th><td class="classDetails">The gotoAndPlay() Team<br />			<a href="http://www.smartfoxserver.com">http://www.smartfoxserver.com</a><br />			<a href="http://www.gotoandplay.it">http://www.gotoandplay.it</a><br /></td></tr><tr><th class="classDetails" align="left">Classpath:</th><td class="classDetails">it.gotoandplay.smartfoxserver.SmartFoxClient</td></tr><tr><th class="classDetails" align="left">File last modified:</th><td class="classDetails">Tuesday, 21 April 2009, 08:49:49</td></tr></table></div><div class="classDescription"><span class="descriptionSummary">SmartFoxClient is the main class in the SmartFoxServer API.</span><br />This class is responsible for connecting to the server and handling all related events.<div class="classFields"><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Usage:</span><div class="item"><ul><li> The following example show to instantiate the <b>SmartFoxClient</b> class and how to register an event handler.<br />			<pre>
<span class="codeKeyword">import</span> it.gotoandplay.smartfoxserver.SmartFoxClient

<span class="codeComment">// Create instance</span>
<span class="codeKeyword">var</span> smartFox:SmartFoxClient = <span class="codeKeyword">new</span> SmartFoxClient()

<span class="codeComment">// Add event handler for connection </span>
smartFox.onConnection = onConnectionHandler

<span class="codeComment">// Connect to server</span>
smartFox<span class="codeIdentifier">.connect</span>(<span class="codeString">"127.0.0.1"</span>, <span class="codeNumber">9339</span>)

<span class="codeComment">// Handle connection event</span>
<span class="codeKeyword">function</span> onConnectionHandler(success:<span class="codeIdentifier">Boolean</span>):<span class="codeIdentifier">Void</span>
{
    <span class="codeKeyword">if</span> (success)
        <span class="codeIdentifier">trace</span>(<span class="codeString">"Connection successful"</span>)
    <span class="codeKeyword">else</span>
        <span class="codeIdentifier">trace</span>(<span class="codeString">"Connection failed"</span>)
}</pre>			<b>NOTE</b>: in the following examples, <code>smartFox</code> always indicates a SmartFoxClient instance. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Events broadcasted to listeners:</span><div class="item"><ul><li>Object with type: <code>onConfigLoadSuccess</code> </li><li>Object with type: <code>onConfigLoadFailure</code> </li></ul></div></div></div></div></div></div><div class="summary"><h2 id="Summary">Summary</h2><div class="docNav"><ul><li><div id="twistyTypeInfo_show" class="twistyTrigger twikiUnvisited twikiMakeVisible twistyInited twistyRememberSetting"><a href="#"><span class="icon">&times;</span>Hide type info</a></div><script type="text/javascript">twiki.JQueryTwistyPlugin.initId("toggleTypeInfo_on");</script><div id="twistyTypeInfo_hide" class="twistyTrigger twikiUnvisited twikiMakeVisible twistyInited twistyRememberSetting"><a href="#"><span class="icon">+</span>Show type info</a></div><span id="twistyTypeInfo_toggle" class="twistyContent"><!----></span><script type="text/javascript">twiki.JQueryTwistyPlugin.initId("toggleTypeInfo_off");</script></li><li><div id="twistySummaries_show" class="twistyTrigger twikiUnvisited twikiMakeVisible twistyInited twistyRememberSetting"><a href="#"><span class="icon">&times;</span>Hide summaries</a></div><script type="text/javascript">twiki.JQueryTwistyPlugin.initId("toggleSummaries_on");</script><div id="twistySummaries_hide" class="twistyTrigger twikiUnvisited twikiMakeVisible twistyInited twistyRememberSetting"><a href="#"><span class="icon">+</span>Show summaries</a></div><span id="twistySummaries_toggle" class="twistyContent"><!----></span><script type="text/javascript">twiki.JQueryTwistyPlugin.initId("toggleSummaries_off");</script></li><li><div id="twistySort_show" class="twistyTrigger twikiUnvisited twikiMakeVisible twistyInited twistyRememberSetting"><a href="#"><span class="icon">&times;</span>Sort by source order</a></div><script type="text/javascript">twiki.JQueryTwistyPlugin.initId("toggleSort_on");</script><div id="twistySort_hide" class="twistyTrigger twikiUnvisited twikiMakeVisible twistyInited twistyRememberSetting"><a href="#"><span class="icon">+</span>Sort alphabetically</a></div><span id="twistySort_toggle" class="twistyContent"><!----></span><script type="text/javascript">twiki.JQueryTwistyPlugin.initId("toggleSort_off");</script></li></ul><br class="clear" /></div><div class="memberList"><div class="memberSummaryPart"><span class="title">Constructor</span><ul class="sortable" id="sortul1"><li class="sortli listnum1"><a href="#SmartFoxClient">SmartFoxClient</a><span class="typeInfo"> (objRef:Object)</span><ul class="summary"><li>The SmartFoxClient contructor.</li></ul></li></ul></div><div class="memberSummaryPart"><span class="title">Class properties</span><ul class="sortable" id="sortul2"><li class="sortli listnum1"><a href="#MODMSG_TO_USER">MODMSG_TO_USER</a><span class="typeInfo">  : String</span><ul class="summary"><li>Moderator message type: "to user".</li></ul></li><li class="sortli listnum2"><a href="#MODMSG_TO_ROOM">MODMSG_TO_ROOM</a><span class="typeInfo">  : String</span><ul class="summary"><li>Moderator message type: "to room".</li></ul></li><li class="sortli listnum3"><a href="#MODMSG_TO_ZONE">MODMSG_TO_ZONE</a><span class="typeInfo">  : String</span><ul class="summary"><li>Moderator message type: "to zone".</li></ul></li><li class="sortli listnum4"><a href="#PROTOCOL_XML">PROTOCOL_XML</a><span class="typeInfo">  : String</span><ul class="summary"><li>Server-side extension request/response protocol: XML.</li></ul></li><li class="sortli listnum5"><a href="#PROTOCOL_STR">PROTOCOL_STR</a><span class="typeInfo">  : String</span><ul class="summary"><li>Server-side extension request/response protocol: String (aka "raw protocol").</li></ul></li><li class="sortli listnum6"><a href="#PROTOCOL_JSON">PROTOCOL_JSON</a><span class="typeInfo">  : String</span><ul class="summary"><li>Server-side extension request/response protocol: JSON.</li></ul></li><li class="sortli listnum7"><a href="#CONNECTION_MODE_DISCONNECTED">CONNECTION_MODE_DISCONNECTED</a><span class="typeInfo">  : String</span><ul class="summary"><li>Connection mode: "disconnected".</li></ul></li><li class="sortli listnum8"><a href="#CONNECTION_MODE_SOCKET">CONNECTION_MODE_SOCKET</a><span class="typeInfo">  : String</span><ul class="summary"><li>Connection mode: "socket".</li></ul></li><li class="sortli listnum9"><a href="#CONNECTION_MODE_HTTP">CONNECTION_MODE_HTTP</a><span class="typeInfo">  : String</span><ul class="summary"><li>Connection mode: "http".</li></ul></li></ul></div><div class="memberSummaryPart"><span class="title">Instance properties</span><ul class="sortable" id="sortul3"><li class="sortli listnum1"><a href="#ipAddress">ipAddress</a><span class="typeInfo">  : String</span><ul class="summary"><li>The SmartFoxServer IP address.</li></ul></li><li class="sortli listnum2"><a href="#port">port</a><span class="typeInfo">  : Number</span><ul class="summary"><li>The SmartFoxServer connection port.</li></ul></li><li class="sortli listnum3"><a href="#defaultZone">defaultZone</a><span class="typeInfo">  : String</span><ul class="summary"><li>The default login zone.</li></ul></li><li class="sortli listnum4"><a href="#httpPort">httpPort</a><span class="typeInfo">  : Number</span><ul class="summary"><li>The TCP port used by the embedded webserver.</li></ul></li><li class="sortli listnum5"><a href="#roomList">roomList</a><span class="typeInfo">  : Object</span><ul class="summary"><li>The list of rooms in the current zone.</li></ul></li><li class="sortli listnum6"><a href="#buddyList">buddyList</a><span class="typeInfo">  : Array</span><ul class="summary"><li>An array containing the objects representing each buddy of the user's buddy list.</li></ul></li><li class="sortli listnum7"><a href="#myBuddyVars">myBuddyVars</a><span class="typeInfo">  : Array</span><ul class="summary"><li>The current user's Buddy Variables.</li></ul></li><li class="sortli listnum8"><a href="#activeRoomId">activeRoomId</a><span class="typeInfo">  : Number</span><ul class="summary"><li>The property stores the id of the last room joined by the current user.</li></ul></li><li class="sortli listnum9"><a href="#myUserId">myUserId</a><span class="typeInfo">  : Number</span><ul class="summary"><li>The current user's SmartFoxServer id.</li></ul></li><li class="sortli listnum10"><a href="#myUserName">myUserName</a><span class="typeInfo">  : String</span><ul class="summary"><li>The current user's SmartFoxServer username.</li></ul></li><li class="sortli listnum11"><a href="#debug">debug</a><span class="typeInfo">  : Boolean</span><ul class="summary"><li>Toggle the client-side debugging informations.</li></ul></li><li class="sortli listnum12"><a href="#playerId">playerId</a><span class="typeInfo">  : Number</span><ul class="summary"><li>The current user's id as a player in a game room.</li></ul></li><li class="sortli listnum13"><a href="#amIModerator">amIModerator</a><span class="typeInfo">  : Boolean</span><ul class="summary"><li>A boolean flag indicating if the user is recognized as Moderator.</li></ul></li><li class="sortli listnum14"><a href="#rawProtocolSeparator">rawProtocolSeparator</a><span class="typeInfo">  : String</span><ul class="summary"><li>Get/set the character used as separator for the String (raw) protocol.</li></ul></li><li class="sortli listnum15"><a href="#blueBoxIpAddress">blueBoxIpAddress</a><span class="typeInfo">  : String</span><ul class="summary"><li>The BlueBox IP address.</li></ul></li><li class="sortli listnum16"><a href="#blueBoxPort">blueBoxPort</a><span class="typeInfo">  : Number</span><ul class="summary"><li>The BlueBox connection port.</li></ul></li><li class="sortli listnum17"><a href="#smartConnect">smartConnect</a><span class="typeInfo">  : Boolean</span><ul class="summary"><li>A boolean flag indicating if the BlueBox http connection should be used in case a socket connection is not available.</li></ul></li><li class="sortli listnum18"><a href="#socketConnectionTimeout">socketConnectionTimeout</a><span class="typeInfo">  : Number</span><ul class="summary"><li>The amount of milliseconds to wait before attempting a BlueBox connection.</li></ul></li><li class="sortli listnum19"><a href="#httpPollSpeed">httpPollSpeed</a><span class="typeInfo">  : Number</span><ul class="summary"><li>The minimum interval between two polling requests when connecting to SmartFoxServer via BlueBox module.</li></ul></li></ul></div><div class="memberSummaryPart"><span class="title">Instance methods</span><ul class="sortable" id="sortul4"><li class="sortli listnum1"><a href="#loadConfig">loadConfig</a><span class="typeInfo"> (configFile:String, autoConnect:Boolean) : Void</span><ul class="summary"><li>	Load a client configuration file.</li></ul></li><li class="sortli listnum2"><a href="#getVersion">getVersion</a><span class="typeInfo">  : String</span><ul class="summary"><li>	Get the SmartFoxServer Flash API version.</li></ul></li><li class="sortli listnum3"><a href="#connected">connected</a><span class="typeInfo">  : Boolean</span><ul class="summary"><li>	Get the connection status.</li></ul></li><li class="sortli listnum4"><a href="#getConnectionMode">getConnectionMode</a><span class="typeInfo">  : String</span><ul class="summary"><li>	Get the current connection mode.</li></ul></li><li class="sortli listnum5"><a href="#sendXtMessage">sendXtMessage</a><span class="typeInfo"> (xtName:String, cmdName:String, paramObj, type:String, roomId:Number) : Void</span><ul class="summary"><li>	Send a request to a server side extension.</li></ul></li><li class="sortli listnum6"><a href="#login">login</a><span class="typeInfo"> (zone:String, name:String, pass:String) : Void</span><ul class="summary"><li>	Perform the default login procedure.</li></ul></li><li class="sortli listnum7"><a href="#logout">logout</a><span class="typeInfo">  : Void</span><ul class="summary"><li>	Log the user out of the current zone.</li></ul></li><li class="sortli listnum8"><a href="#getRoomList">getRoomList</a><span class="typeInfo">  : Void</span><ul class="summary"><li>	Retrieve the updated list of rooms in the current zone.</li></ul></li><li class="sortli listnum9"><a href="#autoJoin">autoJoin</a><span class="typeInfo">  : Void</span><ul class="summary"><li>	Automatically join the the default room (if existing) for the current zone.</li></ul></li><li class="sortli listnum10"><a href="#joinRoom">joinRoom</a><span class="typeInfo"> (newRoom, pword:String, isSpectator:Boolean, dontLeave:Boolean, oldRoom:Number) : Void</span><ul class="summary"><li>	Join a room.</li></ul></li><li class="sortli listnum11"><a href="#sendBuddyPermissionResponse">sendBuddyPermissionResponse</a><span class="typeInfo"> (allowBuddy:Boolean, targetBuddy:String) : Void</span><ul class="summary"><li>	Grant current user permission to be added to a buddy list.</li></ul></li><li class="sortli listnum12"><a href="#sendPublicMessage">sendPublicMessage</a><span class="typeInfo"> (message:String, roomId:Number) : Void</span><ul class="summary"><li>	Send a public message.</li></ul></li><li class="sortli listnum13"><a href="#sendPrivateMessage">sendPrivateMessage</a><span class="typeInfo"> (message:String, recipientId:Number, roomId:Number) : Void</span><ul class="summary"><li>	Send a private message to a user.</li></ul></li><li class="sortli listnum14"><a href="#sendModeratorMessage">sendModeratorMessage</a><span class="typeInfo"> (message:String, type:String, id:Number) : Void</span><ul class="summary"><li>	Send a Moderator message to the current zone, the current room or a specific user in the current room.</li></ul></li><li class="sortli listnum15"><a href="#sendObject">sendObject</a><span class="typeInfo"> (obj:Object, roomId:Number) : Void</span><ul class="summary"><li>	Send an Actionscript object to the other users in the current room.</li></ul></li><li class="sortli listnum16"><a href="#sendObjectToGroup">sendObjectToGroup</a><span class="typeInfo"> (obj:Object, userList:Array, roomId:Number) : Void</span><ul class="summary"><li>	Send an Actionscript object to a group of users in the room.</li></ul></li><li class="sortli listnum17"><a href="#setBuddyBlockStatus">setBuddyBlockStatus</a><span class="typeInfo"> (buddyName:String, status:Boolean) : Void</span><ul class="summary"><li>	Block or unblock a user in the buddy list.</li></ul></li><li class="sortli listnum18"><a href="#setUserVariables">setUserVariables</a><span class="typeInfo"> (varObj:Object, roomId:Number) : Void</span><ul class="summary"><li>	Set on or more User Variables.</li></ul></li><li class="sortli listnum19"><a href="#setBuddyVariables">setBuddyVariables</a><span class="typeInfo"> (varList:Object) : Void</span><ul class="summary"><li>	Set the current user's Buddy Variables.</li></ul></li><li class="sortli listnum20"><a href="#createRoom">createRoom</a><span class="typeInfo"> (roomObj:Object, roomId:Number) : Void</span><ul class="summary"><li>	Dynamically create a new room in the current zone.</li></ul></li><li class="sortli listnum21"><a href="#leaveRoom">leaveRoom</a><span class="typeInfo"> (roomId:Number) : Void</span><ul class="summary"><li>	Disconnect the user from the given room.</li></ul></li><li class="sortli listnum22"><a href="#getRoom">getRoom</a><span class="typeInfo"> (roomId) : <a class="className" href="it_gotoandplay_smartfoxserver_Room.html">Room</a></span><ul class="summary"><li>	Get a Room object, using its id or name as key.</li></ul></li><li class="sortli listnum23"><a href="#getActiveRoom">getActiveRoom</a><span class="typeInfo">  : <a class="className" href="it_gotoandplay_smartfoxserver_Room.html">Room</a></span><ul class="summary"><li>	Get the currently active Room object.</li></ul></li><li class="sortli listnum24"><a href="#setRoomVariables">setRoomVariables</a><span class="typeInfo"> (varList:Array, roomId:Number, setOwnership:Boolean) : Void</span><ul class="summary"><li>	Set one or more Room Variables.</li></ul></li><li class="sortli listnum25"><a href="#loadBuddyList">loadBuddyList</a><span class="typeInfo">  : Void</span><ul class="summary"><li>	Load the buddy list for the current user.</li></ul></li><li class="sortli listnum26"><a href="#addBuddy">addBuddy</a><span class="typeInfo"> (buddyName:String) : Void</span><ul class="summary"><li>	Add a user to the buddy list.</li></ul></li><li class="sortli listnum27"><a href="#removeBuddy">removeBuddy</a><span class="typeInfo"> (buddyName:String) : Void</span><ul class="summary"><li>	Remove a buddy from the buddy list.</li></ul></li><li class="sortli listnum28"><a href="#getBuddyByName">getBuddyByName</a><span class="typeInfo"> (buddyName:String) : Object</span><ul class="summary"><li>	Get a buddy from the buddy list, using the buddy's username as key.</li></ul></li><li class="sortli listnum29"><a href="#getBuddyById">getBuddyById</a><span class="typeInfo"> (id:Number) : Object</span><ul class="summary"><li>	Get a buddy from the buddy list, using the user id as key.</li></ul></li><li class="sortli listnum30"><a href="#getBuddyRoom">getBuddyRoom</a><span class="typeInfo"> (buddy:Object) : Void</span><ul class="summary"><li>	Request the room id(s) of the room(s) where a buddy is currently located into.</li></ul></li><li class="sortli listnum31"><a href="#clearBuddyList">clearBuddyList</a><span class="typeInfo">  : Void</span><ul class="summary"><li>	Remove all users from the buddy list.</li></ul></li><li class="sortli listnum32"><a href="#roundTripBench">roundTripBench</a><span class="typeInfo">  : Void</span><ul class="summary"><li>	Send a roundtrip request to the server to test the connection' speed.</li></ul></li><li class="sortli listnum33"><a href="#switchSpectator">switchSpectator</a><span class="typeInfo"> (roomId:Number) : Void</span><ul class="summary"><li>	Turn a spectator inside a game room into a player.</li></ul></li><li class="sortli listnum34"><a href="#switchPlayer">switchPlayer</a><span class="typeInfo"> (roomId:Number) : Void</span><ul class="summary"><li>	Turn a player inside a game room into a spectator.</li></ul></li><li class="sortli listnum35"><a href="#getRandomKey">getRandomKey</a><span class="typeInfo">  : Void</span><ul class="summary"><li>	Retrieve a random string key from the server.</li></ul></li><li class="sortli listnum36"><a href="#uploadFile">uploadFile</a><span class="typeInfo"> (fileRef, id:Number, nick:String, port:Number) : Void</span><ul class="summary"><li>	Upload a file to the embedded webserver.</li></ul></li><li class="sortli listnum37"><a href="#getUploadPath">getUploadPath</a><span class="typeInfo">  : String</span><ul class="summary"><li>	Get the default upload path of the embedded webserver.</li></ul></li><li class="sortli listnum38"><a href="#connect">connect</a><span class="typeInfo"> (ipAdr:String, port:Number) : Void</span><ul class="summary"><li>	Establish a connection to SmartFoxServer.</li></ul></li><li class="sortli listnum39"><a href="#disconnect">disconnect</a><span class="typeInfo">  : Void</span><ul class="summary"><li>	Close the current connection to SmartFoxServer.</li></ul></li></ul></div><div class="memberSummaryPart"><span class="title">Event handlers</span><ul class="sortable" id="sortul5"><li class="sortli listnum1"><a href="#onConnection">onConnection</a><span class="typeInfo">  : Function</span><ul class="summary"><li>Called when a response to the connect request is received.</li></ul></li><li class="sortli listnum2"><a href="#onConnectionLost">onConnectionLost</a><span class="typeInfo">  : Function</span><ul class="summary"><li>Called when the connection with SmartFoxServer is closed (either from the client or from the server).</li></ul></li><li class="sortli listnum3"><a href="#onCreateRoomError">onCreateRoomError</a><span class="typeInfo">  : Function</span><ul class="summary"><li>Called when an error occurs during the creation of a room.</li></ul></li><li class="sortli listnum4"><a href="#onJoinRoom">onJoinRoom</a><span class="typeInfo">  : Function</span><ul class="summary"><li>Called when a room is joined successfully.</li></ul></li><li class="sortli listnum5"><a href="#onJoinRoomError">onJoinRoomError</a><span class="typeInfo">  : Function</span><ul class="summary"><li>Called when an error occurs while joining a room.</li></ul></li><li class="sortli listnum6"><a href="#onLogin">onLogin</a><span class="typeInfo">  : Function</span><ul class="summary"><li>Called when the login to a SmartFoxServer zone has been attempted.</li></ul></li><li class="sortli listnum7"><a href="#onLogout">onLogout</a><span class="typeInfo">  : Function</span><ul class="summary"><li>Called when the user logs out successfully.</li></ul></li><li class="sortli listnum8"><a href="#onObjectReceived">onObjectReceived</a><span class="typeInfo">  : Function</span><ul class="summary"><li>Called when an Actionscript object is received.</li></ul></li><li class="sortli listnum9"><a href="#onPublicMessage">onPublicMessage</a><span class="typeInfo">  : Function</span><ul class="summary"><li>Called when a public chat message is received.</li></ul></li><li class="sortli listnum10"><a href="#onPrivateMessage">onPrivateMessage</a><span class="typeInfo">  : Function</span><ul class="summary"><li>Called when a private chat message is received.</li></ul></li><li class="sortli listnum11"><a href="#onAdminMessage">onAdminMessage</a><span class="typeInfo">  : Function</span><ul class="summary"><li>Called when a message from the Administrator is received.</li></ul></li><li class="sortli listnum12"><a href="#onModeratorMessage">onModeratorMessage</a><span class="typeInfo">  : Function</span><ul class="summary"><li>Called when a message from a Moderator is received.</li></ul></li><li class="sortli listnum13"><a href="#onRoomAdded">onRoomAdded</a><span class="typeInfo">  : Function</span><ul class="summary"><li>Called when a new room is created in the zone where the user is currently logged in.</li></ul></li><li class="sortli listnum14"><a href="#onRoomDeleted">onRoomDeleted</a><span class="typeInfo">  : Function</span><ul class="summary"><li>Called when a room is removed from the zone where the user is currently logged in.</li></ul></li><li class="sortli listnum15"><a href="#onRoomLeft">onRoomLeft</a><span class="typeInfo">  : Function</span><ul class="summary"><li>Called when a room is left in multi-room mode, after a response to a leaveRoom request is received.</li></ul></li><li class="sortli listnum16"><a href="#onRoomListUpdate">onRoomListUpdate</a><span class="typeInfo">  : Function</span><ul class="summary"><li>Called when the list of rooms available in the current zone is received.</li></ul></li><li class="sortli listnum17"><a href="#onRoomVariablesUpdate">onRoomVariablesUpdate</a><span class="typeInfo">  : Function</span><ul class="summary"><li>Called when Room Variables are updated.</li></ul></li><li class="sortli listnum18"><a href="#onRoundTripResponse">onRoundTripResponse</a><span class="typeInfo">  : Function</span><ul class="summary"><li>Called when a response to the roundTripBench request is received.</li></ul></li><li class="sortli listnum19"><a href="#onUserCountChange">onUserCountChange</a><span class="typeInfo">  : Function</span><ul class="summary"><li>Called when the number of users and/or spectators changes in a room within the current zone.</li></ul></li><li class="sortli listnum20"><a href="#onUserEnterRoom">onUserEnterRoom</a><span class="typeInfo">  : Function</span><ul class="summary"><li>Called when another user joins the current room.</li></ul></li><li class="sortli listnum21"><a href="#onUserLeaveRoom">onUserLeaveRoom</a><span class="typeInfo">  : Function</span><ul class="summary"><li>Called when a user leaves the current room.</li></ul></li><li class="sortli listnum22"><a href="#onUserVariablesUpdate">onUserVariablesUpdate</a><span class="typeInfo">  : Function</span><ul class="summary"><li>Called when a user in the current room updates his/her User Variables.</li></ul></li><li class="sortli listnum23"><a href="#onExtensionResponse">onExtensionResponse</a><span class="typeInfo">  : Function</span><ul class="summary"><li>Called when a command/response from a server-side extension is received.</li></ul></li><li class="sortli listnum24"><a href="#onSpectatorSwitched">onSpectatorSwitched</a><span class="typeInfo">  : Function</span><ul class="summary"><li>Called when a response to the switchSpectator request is received.</li></ul></li><li class="sortli listnum25"><a href="#onPlayerSwitched">onPlayerSwitched</a><span class="typeInfo">  : Function</span><ul class="summary"><li>Called in response to the switchPlayer request.</li></ul></li><li class="sortli listnum26"><a href="#onBuddyList">onBuddyList</a><span class="typeInfo">  : Function</span><ul class="summary"><li>Called when the buddy list for the current user is received or a buddy is added/removed.</li></ul></li><li class="sortli listnum27"><a href="#onBuddyListUpdate">onBuddyListUpdate</a><span class="typeInfo">  : Function</span><ul class="summary"><li>Called when the status or variables of a buddy in the buddy list change.</li></ul></li><li class="sortli listnum28"><a href="#onBuddyListError">onBuddyListError</a><span class="typeInfo">  : Function</span><ul class="summary"><li>Called when an error occurs while loading the buddy list.</li></ul></li><li class="sortli listnum29"><a href="#onBuddyRoom">onBuddyRoom</a><span class="typeInfo">  : Function</span><ul class="summary"><li>Called when a response to a getBuddyRoom request is received.</li></ul></li><li class="sortli listnum30"><a href="#onBuddyPermissionRequest">onBuddyPermissionRequest</a><span class="typeInfo">  : Function</span><ul class="summary"><li>Called when the current user receives a request to be added to the buddy list of another user.</li></ul></li><li class="sortli listnum31"><a href="#onRandomKey">onRandomKey</a><span class="typeInfo">  : Function</span><ul class="summary"><li>Called when a response to a getRandomKey request is received.</li></ul></li><li class="sortli listnum32"><a href="#onConfigLoadFailure">onConfigLoadFailure</a><span class="typeInfo">  : Function</span><ul class="summary"><li>Called when an error occurs while loading the external SmartFoxClient configuration file.</li></ul></li><li class="sortli listnum33"><a href="#onConfigLoadSuccess">onConfigLoadSuccess</a><span class="typeInfo">  : Function</span><ul class="summary"><li>Called when the external SmartFoxClient configuration file has been loaded successfully.</li></ul></li></ul></div></div></div><div class="memberSection"><h2 id="Constructor">Constructor</h2><div class="member" id="SmartFoxClient"><h3>SmartFoxClient</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code">function <b>SmartFoxClient</b> (
</div><div class="code">objRef:Object)</div><br class="clear" /></div></div><div class="description"> The SmartFoxClient contructor. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">objRef<span class="itemSeparator">:</span></div><div>a custom parameter to keep a reference to a parent object (optional).</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to instantiate the SmartFoxClient class.<br />			<pre>
<span class="codeKeyword">var</span> smartFox:SmartFoxServer = <span class="codeKeyword">new</span> SmartFoxServer()</pre> </li></ul></div></div></div></div></div></div><div class="memberSection"><h2 id="Classproperties">Class properties</h2><div class="member" id="CONNECTION_MODE_DISCONNECTED"><h3>CONNECTION_MODE_DISCONNECTED</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><span class="memberAccess">static</span> <b>CONNECTION_MODE_DISCONNECTED</b>:String = <span class="codeString">"disconnected"</span>
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> Connection mode: "disconnected".<br />The client is currently disconnected from SmartFoxServer. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#getConnectionMode">getConnectionMode</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Since:</span><div class="item"><ul><li> SmartFoxServer Pro v1.6.0 </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Pro </li></ul></div></div></div></div></div><div class="member" id="CONNECTION_MODE_HTTP"><h3>CONNECTION_MODE_HTTP</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><span class="memberAccess">static</span> <b>CONNECTION_MODE_HTTP</b>:String = <span class="codeString">"http"</span>
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> Connection mode: "http".<br />The client is currently connected to SmartFoxServer via http. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#getConnectionMode">getConnectionMode</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Since:</span><div class="item"><ul><li> SmartFoxServer Pro v1.6.0 </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Pro </li></ul></div></div></div></div></div><div class="member" id="CONNECTION_MODE_SOCKET"><h3>CONNECTION_MODE_SOCKET</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><span class="memberAccess">static</span> <b>CONNECTION_MODE_SOCKET</b>:String = <span class="codeString">"socket"</span>
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> Connection mode: "socket".<br />The client is currently connected to SmartFoxServer via socket. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#getConnectionMode">getConnectionMode</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Since:</span><div class="item"><ul><li> SmartFoxServer Pro v1.6.0 </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Pro </li></ul></div></div></div></div></div><div class="member" id="MODMSG_TO_ROOM"><h3>MODMSG_TO_ROOM</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><span class="memberAccess">static</span> <b>MODMSG_TO_ROOM</b>:String = <span class="codeString">"r"</span>
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> Moderator message type: "to room".<br />The Moderator message is sent to all the users in a room. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#sendModeratorMessage">sendModeratorMessage</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="MODMSG_TO_USER"><h3>MODMSG_TO_USER</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><span class="memberAccess">static</span> <b>MODMSG_TO_USER</b>:String = <span class="codeString">"u"</span>
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> Moderator message type: "to user".<br />The Moderator message is sent to a single user. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#sendModeratorMessage">sendModeratorMessage</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="MODMSG_TO_ZONE"><h3>MODMSG_TO_ZONE</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><span class="memberAccess">static</span> <b>MODMSG_TO_ZONE</b>:String = <span class="codeString">"z"</span>
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> Moderator message type: "to zone".<br />The Moderator message is sent to all the users in a zone. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#sendModeratorMessage">sendModeratorMessage</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="PROTOCOL_JSON"><h3>PROTOCOL_JSON</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><span class="memberAccess">static</span> <b>PROTOCOL_JSON</b>:String = <span class="codeString">"json"</span>
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> Server-side extension request/response protocol: JSON. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#sendXtMessage">sendXtMessage</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onExtensionResponse">onExtensionResponse</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Pro </li></ul></div></div></div></div></div><div class="member" id="PROTOCOL_STR"><h3>PROTOCOL_STR</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><span class="memberAccess">static</span> <b>PROTOCOL_STR</b>:String = <span class="codeString">"str"</span>
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> Server-side extension request/response protocol: String (aka "raw protocol"). </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#sendXtMessage">sendXtMessage</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onExtensionResponse">onExtensionResponse</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Pro </li></ul></div></div></div></div></div><div class="member" id="PROTOCOL_XML"><h3>PROTOCOL_XML</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><span class="memberAccess">static</span> <b>PROTOCOL_XML</b>:String = <span class="codeString">"xml"</span>
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> Server-side extension request/response protocol: XML. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#sendXtMessage">sendXtMessage</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onExtensionResponse">onExtensionResponse</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Pro </li></ul></div></div></div></div></div></div><div class="memberSection"><h2 id="Instanceproperties">Instance properties</h2><div class="member" id="activeRoomId"><h3>activeRoomId</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>activeRoomId</b>:Number
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> The property stores the id of the last room joined by the current user.<br />In most multiuser applications users can join one room at a time: in this case this property represents the id of the current room.<br />If multi-room join is allowed, the application should track the various id(s) in an array (for example) and this property should be ignored. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to retrieve the current room object (as an alternative to the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#getActiveRoom">getActiveRoom</a> method).<br />			<pre>
<span class="codeKeyword">var</span> room:Room = smartFox.getRoom(smartFox.activeRoomId)
<span class="codeIdentifier">trace</span>(<span class="codeString">"Current room is: "</span> + room.getName())</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#getActiveRoom">getActiveRoom</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Lite / Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="amIModerator"><h3>amIModerator</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>amIModerator</b>:Boolean
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> A boolean flag indicating if the user is recognized as Moderator. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to check if the current user is a Moderator in the current SmartFoxServer zone.<br />			<pre>
<span class="codeKeyword">if</span> (smartfox.amIModerator)
    <span class="codeIdentifier">trace</span>(<span class="codeString">"I'</span>m a Moderator <span class="codeKeyword">in</span> <span class="codeIdentifier">this</span> zone<span class="codeString">")
else
    trace("</span>I<span class="codeString">'m a standard user"</span>)</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#sendModeratorMessage">sendModeratorMessage</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="blueBoxIpAddress"><h3>blueBoxIpAddress</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>blueBoxIpAddress</b>:String
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> The BlueBox IP address. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#smartConnect">smartConnect</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#loadConfig">loadConfig</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Since:</span><div class="item"><ul><li> SmartFoxServer Pro v1.6.0 </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Pro </li></ul></div></div></div></div></div><div class="member" id="blueBoxPort"><h3>blueBoxPort</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>blueBoxPort</b>:Number = <span class="codeNumber">0</span>
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> The BlueBox connection port. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#smartConnect">smartConnect</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#loadConfig">loadConfig</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Since:</span><div class="item"><ul><li> SmartFoxServer Pro v1.6.0 </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Pro </li></ul></div></div></div></div></div><div class="member" id="buddyList"><h3>buddyList</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>buddyList</b>:Array
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> An array containing the objects representing each buddy of the user's buddy list.<br />The buddy list can be iterated with a <i>for-in</i> loop, or a specific object can be retrieved by means of the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#getBuddyById">getBuddyById</a> and <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#getBuddyByName">getBuddyByName</a> methods.<br /><br /><b>NOTE</b>: this property and all the buddy-related method are available only if the buddy list feature is enabled for the current zone. Check the SmartFoxServer server-side configuration.<br /><br />Each element in the buddy list is an object with the following properties: </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">id       <span class="itemSeparator">:</span></div><div>(<b>Number</b>) the buddy id.</div></div><div class="item"><div class="floatbox code colorizedCode">name     <span class="itemSeparator">:</span></div><div>(<b>String</b>) the buddy name.</div></div><div class="item"><div class="floatbox code colorizedCode">isOnline <span class="itemSeparator">:</span></div><div>(<b>Boolean</b>) the buddy online status: <code>true</code> if the buddy is online; <code>false</code> if the buddy is offline.</div></div><div class="item"><div class="floatbox code colorizedCode">isBlocked<span class="itemSeparator">:</span></div><div>(<b>Boolean</b>) the buddy block status: <code>true</code> if the buddy is blocked; <code>false</code> if the buddy is not blocked; when a buddy is blocked, SmartFoxServer does not deliver private messages from/to that user.</div></div><div class="item"><div class="floatbox code colorizedCode">variables<span class="itemSeparator">:</span></div><div>(<b>Object</b>) an object with extra properties of the buddy (Buddy Variables); see also <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#setBuddyVariables">setBuddyVariables</a>.</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to retrieve the properties of each buddy in the buddy list.<br />			<pre>
<span class="codeKeyword">for</span> (<span class="codeKeyword">var</span> b:<span class="codeIdentifier">String</span> <span class="codeKeyword">in</span> smartFox.buddyList)
{
    <span class="codeKeyword">var</span> buddy:<span class="codeIdentifier">Object</span> = smartFox.buddyList[b]

    <span class="codeComment">// Trace buddy properties</span>
    <span class="codeIdentifier">trace</span>(<span class="codeString">"Buddy id: "</span> + buddy.id)
    <span class="codeIdentifier">trace</span>(<span class="codeString">"Buddy name: "</span> + buddy<span class="codeIdentifier">.name</span>)
    <span class="codeIdentifier">trace</span>(<span class="codeString">"Is buddy online? "</span> + buddy.isOnline ? <span class="codeString">"Yes"</span> : <span class="codeString">"No"</span>)
    <span class="codeIdentifier">trace</span>(<span class="codeString">"Is buddy blocked? "</span> + buddy.isBlocked ? <span class="codeString">"Yes"</span> : <span class="codeString">"No"</span>)

    <span class="codeComment">// Trace all Buddy Variables</span>
    <span class="codeKeyword">for</span> (<span class="codeKeyword">var</span> v:<span class="codeIdentifier">String</span> <span class="codeKeyword">in</span> buddy.variables)
        <span class="codeIdentifier">trace</span>(<span class="codeString">"\t"</span> + v + <span class="codeString">" --&#62; "</span> + buddy.variables[v])
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#myBuddyVars">myBuddyVars</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#loadBuddyList">loadBuddyList</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#getBuddyById">getBuddyById</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#getBuddyByName">getBuddyByName</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#removeBuddy">removeBuddy</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#setBuddyBlockStatus">setBuddyBlockStatus</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#setBuddyVariables">setBuddyVariables</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onBuddyList">onBuddyList</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onBuddyListUpdate">onBuddyListUpdate</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version history:</span><div class="item"><ul><li> SmartFoxServer Pro v1.6.0 - Buddy's <i>isBlocked</i> property added. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Basic (except block status) / Pro </li></ul></div></div></div></div></div><div class="member" id="debug"><h3>debug</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>debug</b>:Boolean
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> Toggle the client-side debugging informations.<br />When turned on, the developer is able to inspect all server messages that are sent and received by the client in the Flash authoring environment.<br />This allows a better debugging of the interaction with the server during application developement. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to turn on SmartFoxServer API debugging.<br />			<pre>
<span class="codeKeyword">var</span> smartFox:SmartFoxClient = <span class="codeKeyword">new</span> SmartFoxClient()
<span class="codeKeyword">var</span> runningLocally:<span class="codeIdentifier">Boolean</span> = <span class="codeIdentifier">true</span>

<span class="codeKeyword">var</span> ip:<span class="codeIdentifier">String</span>
<span class="codeKeyword">var</span> port:<span class="codeIdentifier">Number</span>

<span class="codeKeyword">if</span> (runningLocally)
{
    smartFox.debug = <span class="codeIdentifier">true</span>
    ip = <span class="codeString">"127.0.0.1"</span>
    port = <span class="codeNumber">9339</span>
}
<span class="codeKeyword">else</span>
{
    smartFox.debug = <span class="codeIdentifier">false</span>
    ip = <span class="codeString">"100.101.102.103"</span>
    port = <span class="codeNumber">9333</span>
}

smartFox<span class="codeIdentifier">.connect</span>(ip, port)</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Lite / Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="defaultZone"><h3>defaultZone</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>defaultZone</b>:String = ""
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> The default login zone. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#loadConfig">loadConfig</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Pro </li></ul></div></div></div></div></div><div class="member" id="httpPollSpeed"><h3>httpPollSpeed</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>httpPollSpeed</b>:Number
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> The minimum interval between two polling requests when connecting to SmartFoxServer via BlueBox module.<br />The default value is 750 milliseconds. Accepted values are between 0 and 10000 milliseconds (10 seconds). </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Usage note:</span><div class="item"><ul><li> <i>Which is the optimal value for polling speed?</i><br />				A value between 750-1000 ms is very good for chats, turn-based games and similar kind of applications. It adds minimum lag to the client responsiveness and it keeps the server CPU usage low.<br />				Lower values (200-500 ms) can be used where a faster responsiveness is necessary. For super fast real-time games values between 50 ms and 100 ms can be tried.<br />				With settings < 200 ms the CPU usage will grow significantly as the http connection and packet wrapping/unwrapping is more expensive than using a persistent connection.<br />				Using values below 50 ms is not recommended. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to set the polling speed.<br />			<pre>
smartFox.httpPollSpeed = <span class="codeNumber">200</span></pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#smartConnect">smartConnect</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Since:</span><div class="item"><ul><li> SmartFoxServer Pro v1.6.0 </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Pro </li></ul></div></div></div></div></div><div class="member" id="httpPort"><h3>httpPort</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>httpPort</b>:Number = <span class="codeNumber">8080</span>
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> The TCP port used by the embedded webserver.<br />The default port is <b>8080</b>; if the webserver is listening on a different port number, this property should be set to that value. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to retrieve the webserver's current http port.<br />			<pre>
<span class="codeIdentifier">trace</span>(<span class="codeString">"HTTP port is: "</span> + smartfox.httpPort)</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#uploadFile">uploadFile</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Since:</span><div class="item"><ul><li> SmartFoxServer Pro v1.5.0 </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="ipAddress"><h3>ipAddress</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>ipAddress</b>:String
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> The SmartFoxServer IP address. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#connect">connect</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Pro </li></ul></div></div></div></div></div><div class="member" id="myBuddyVars"><h3>myBuddyVars</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>myBuddyVars</b>:Array
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> The current user's Buddy Variables.<br />This is an associative array containing the current user's properties when he/she is present in the buddy lists of other users.<br />See the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#setBuddyVariables">setBuddyVariables</a> method for more details. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to read the current user's own Buddy Variables.<br />			<pre>
<span class="codeKeyword">for</span> (<span class="codeKeyword">var</span> v:<span class="codeIdentifier">String</span> <span class="codeKeyword">in</span> smartFox.myBuddyVars)
    <span class="codeIdentifier">trace</span>(<span class="codeString">"Variable "</span> + v + <span class="codeString">" --&#62; "</span> + smartFox.myBuddyVars[v])</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#setBuddyVariables">setBuddyVariables</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#getBuddyById">getBuddyById</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#getBuddyByName">getBuddyByName</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onBuddyList">onBuddyList</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onBuddyListUpdate">onBuddyListUpdate</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Since:</span><div class="item"><ul><li> SmartFoxServer Pro v1.6.0 </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Pro </li></ul></div></div></div></div></div><div class="member" id="myUserId"><h3>myUserId</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>myUserId</b>:Number
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> The current user's SmartFoxServer id.<br />The id is assigned to a user on the server-side as soon as the client connects to SmartFoxServer successfully.<br /><br /><b>NOTE:</b> client-side, the <b>myUserId</b> property is available only after a successful login is performed using the default login procedure.<br />If a custom login process is implemented, this property must be manually set after the successful login! If not, various client-side modules (SmartFoxBits, RedBox, etc.) may not work properly. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to retrieve the user's own SmartFoxServer id.<br />			<pre>
<span class="codeIdentifier">trace</span>(<span class="codeString">"My user ID is: "</span> + smartFox.myUserId)</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#myUserName">myUserName</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Lite / Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="myUserName"><h3>myUserName</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>myUserName</b>:String
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> The current user's SmartFoxServer username.<br /><br /><b>NOTE</b>: client-side, the <b>myUserName</b> property is available only after a successful login is performed using the default login procedure.<br />If a custom login process is implemented, this property must be manually set after the successful login! If not, various client-side modules (SmartFoxBits, RedBox, etc.) may not work properly. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to retrieve the user's own SmartFoxServer username.<br />			<pre>
<span class="codeIdentifier">trace</span>(<span class="codeString">"I logged in as: "</span> + smartFox.myUserName)</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#myUserId">myUserId</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#login">login</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Lite / Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="playerId"><h3>playerId</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>playerId</b>:Number
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> The current user's id as a player in a game room.<br />The <b>playerId</b> is available only after the user successfully joined a game room. This id is 1-based (player 1, player 2, etc.), but if the user is a spectator or the room is not a game room, its value is -1.<br />When a user joins a game room, a player id (or "slot") is assigned to him/her, based on the slots available in the room at the moment in which the user entered it; for example:<ul><li>in a game room for 2 players, the first user who joins it becomes player one (playerId = 1) and the second user becomes player two (player = 2);</li><li>in a game room for 4 players where only player three is missing, the next user who will join the room will be player three (playerId = 3);</li></ul><b>NOTE</b>: if multi-room join is allowed, this property contains only the last player id assigned to the user, and so it's useless.<br />In this case the <a href="it_gotoandplay_smartfoxserver_Room.html#getMyPlayerIndex">Room.getMyPlayerIndex</a> method should be used to retrieve the player id for each joined room. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to retrieve the user's own player id.<br />			<pre>
<span class="codeIdentifier">trace</span>(<span class="codeString">"I'</span>m player " + smartFox.playerId)</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_Room.html#getMyPlayerIndex">Room.getMyPlayerIndex</a> </li><li> <a href="it_gotoandplay_smartfoxserver_Room.html#isGame">Room.isGame</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Lite / Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="port"><h3>port</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>port</b>:Number
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> The SmartFoxServer connection port. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#connect">connect</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Pro </li></ul></div></div></div></div></div><div class="member" id="rawProtocolSeparator"><h3>rawProtocolSeparator</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>rawProtocolSeparator</b>:String = <span class="codeString">"%"</span>
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> Get/set the character used as separator for the String (raw) protocol.<br />The default value is <b>%</b> (percentage character).<br /><br /><b>NOTE</b>: this separator must match the one set in the SmartFoxServer server-side configuration file through the <code>&lt;RawProtocolSeparator&gt;</code> parameter. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to set the raw protocol separator.<br />			<pre>
smartFox.rawProtocolSeparator = <span class="codeString">"|"</span></pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#PROTOCOL_STR">PROTOCOL_STR</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#sendXtMessage">sendXtMessage</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Since:</span><div class="item"><ul><li> SmartFoxServer Pro v1.5.5 </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Pro </li></ul></div></div></div></div></div><div class="member" id="roomList"><h3>roomList</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>roomList</b>:Object
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> The list of rooms in the current zone.<br />Unlike the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#getRoomList">getRoomList</a> method, this property returns the list of <a class="className" href="it_gotoandplay_smartfoxserver_Room.html">Room</a> objects already stored on the client, so no request is sent to the server. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to iterate in the room list.<br />			<pre>
<span class="codeKeyword">for</span> (<span class="codeKeyword">var</span> r:<span class="codeIdentifier">String</span> <span class="codeKeyword">in</span> smartFox.roomList)
{
    <span class="codeKeyword">var</span> room:Room = smartFox.roomList[r]
    <span class="codeIdentifier">trace</span>(<span class="codeString">"Room: "</span> + room.getName())
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#getRoomList">getRoomList</a> </li><li> <a class="className" href="it_gotoandplay_smartfoxserver_Room.html">Room</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Lite / Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="smartConnect"><h3>smartConnect</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>smartConnect</b>:Boolean = <span class="codeIdentifier">true</span>
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> A boolean flag indicating if the BlueBox http connection should be used in case a socket connection is not available.<br />The default value is <code>true</code>. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#loadConfig">loadConfig</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Since:</span><div class="item"><ul><li> SmartFoxServer Pro v1.6.0 </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Pro </li></ul></div></div></div></div></div><div class="member" id="socketConnectionTimeout"><h3>socketConnectionTimeout</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>socketConnectionTimeout</b>:Number = <span class="codeNumber">5000</span>
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> The amount of milliseconds to wait before attempting a BlueBox connection.<br />The default value is <b>5000</b> milliseconds. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to set the socket connection timeout.<br />			<pre>
smartfox.socketConnectionTimeout = <span class="codeNumber">2000</span></pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#smartConnect">smartConnect</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#loadConfig">loadConfig</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Since:</span><div class="item"><ul><li> SmartFoxServer Pro v1.6.0 </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Pro </li></ul></div></div></div></div></div></div><div class="memberSection"><h2 id="Instancemethods">Instance methods</h2><div class="member" id="addBuddy"><h3>addBuddy</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code">function <b>addBuddy</b> (
</div><div class="code">buddyName:String) : Void</div><br class="clear" /></div></div><div class="description"> 	Add a user to the buddy list.<br />Since SmartFoxServer Pro 1.6.0, the buddy list feature can be configured to use a <i>basic</i> or <i>advanced</i> security mode (see the SmartFoxServer server-side configuration file).<br />Check the following usage notes for details on the behavior of the <b>addBuddy</b> method in the two cases. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">buddyName<span class="itemSeparator">:</span></div><div>the name of the user to be added to the buddy list.</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Usage note:</span><div class="item"><ul><li> <i>Basic security mode</i><br />				When a buddy is added, if the buddy list is already full, the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onBuddyListError">onBuddyListError</a> handler is called; otherwise the buddy list is updated and the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onBuddyList">onBuddyList</a> handler is called.<hr /><i>Advanced security mode</i><br />				If the <code>&lt;addBuddyPermission&gt;</code> parameter is set to <code>true</code> in the buddy list configuration section of a zone, before the user is actually added to the buddy list he/she must grant his/her permission.<br />				The permission request is sent if the user is online only. When the permission is granted, the buddy list is updated and the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onBuddyList">onBuddyList</a> handler is called.<br />				If the permission is not granted (or the buddy didn't receive the permission request), the <b>addBuddy</b> method can be called again after a certain amount of time only. This time is set in the server configuration <code>&lt;permissionTimeOut&gt;</code> parameter.<br />				Also, if the <code>&lt;mutualAddBuddy&gt;</code> parameter is set to <code>true</code>, when user A adds user B to the buddy list, he/she is automatically added to user B's buddy list.<br />				Lastly, if the buddy list is full, the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onBuddyListError">onBuddyListError</a> handler is called. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Returns:</span><div class="item"><ul><li> Nothing. Causes the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onBuddyList">onBuddyList</a> or <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onBuddyListError">onBuddyListError</a> handlers to be called in response. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to add a user to the buddy list.<br />			<pre>
smartFox.addBuddy(<span class="codeString">"jack"</span>)</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#buddyList">buddyList</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#removeBuddy">removeBuddy</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#setBuddyBlockStatus">setBuddyBlockStatus</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onBuddyList">onBuddyList</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onBuddyListError">onBuddyListError</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version history:</span><div class="item"><ul><li> SmartFoxServer Pro v1.6.0 - Buddy list's <i>advanced security mode</i> implemented. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Basic (except <i>advanced mode</i>) / Pro </li></ul></div></div></div></div></div><div class="member" id="autoJoin"><h3>autoJoin</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code">function <b>autoJoin</b> (
</div><div class="code">) : Void</div><br class="clear" /></div></div><div class="description"> 	Automatically join the the default room (if existing) for the current zone.<br />A default room can be specified in the SmartFoxServer server-side configuration by adding the <code>autoJoin = "true"</code> attribute to one of the <code>&lt;Room&gt;</code> tags in a zone.<br />When a room is marked as <i>autoJoin</i> it becomes the default room where all clients are joined when this method is called. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Returns:</span><div class="item"><ul><li> Nothing. Causes the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onJoinRoom">onJoinRoom</a> or <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onJoinRoomError">onJoinRoomError</a> handlers to be called in response. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to join the default room in the current zone.<br />			<pre>
smartFox.autoJoin()</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#joinRoom">joinRoom</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onJoinRoom">onJoinRoom</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onJoinRoomError">onJoinRoomError</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Lite / Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="clearBuddyList"><h3>clearBuddyList</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code">function <b>clearBuddyList</b> (
</div><div class="code">) : Void</div><br class="clear" /></div></div><div class="description"><div class="fields"><div class="field"><span class="title">Deprecated </span> In order to avoid conflits with the buddy list <i>advanced security mode</i> implemented since SmartFoxServer Pro 1.6.0, buddies should be removed one by one, by iterating through the buddy list. </div></div> 	Remove all users from the buddy list. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Returns:</span><div class="item"><ul><li> Nothing. Causes the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onBuddyList">onBuddyList</a> handler to be called in response. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to clear the buddy list.<br />			<pre>
smartFox.clearBuddyList()</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#buddyList">buddyList</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onBuddyList">onBuddyList</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version history:</span><div class="item"><ul><li> SmartFoxServer Pro v1.6.0 - Method deprecated. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="connect"><h3>connect</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code">function <b>connect</b> (

</div><div class="code">ipAdr:String,
port:Number) : Void</div><br class="clear" /></div></div><div class="description"> 	Establish a connection to SmartFoxServer.<br />The client usually gets connected to SmartFoxServer through a socket connection. In SmartFoxServer Pro, if a socket connection is not available and the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#smartConnect">smartConnect</a> property is set to <code>true</code>, an http connection to the BlueBox module is attempted.<br />When a successful connection is established, the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#getConnectionMode">getConnectionMode</a> can be used to check the current connection mode. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">ipAdr<span class="itemSeparator">:</span></div><div>the SmartFoxServer ip address.</div></div><div class="item"><div class="floatbox code colorizedCode">port <span class="itemSeparator">:</span></div><div>the SmartFoxServer TCP port.</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Returns:</span><div class="item"><ul><li> Nothing. Causes the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onConnection">onConnection</a> handler to be called in response. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to connect to SmartFoxServer.<br />			<pre>
smartFox<span class="codeIdentifier">.connect</span>(<span class="codeString">"127.0.0.1"</span>, <span class="codeNumber">9339</span>)</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#disconnect">disconnect</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#getConnectionMode">getConnectionMode</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#smartConnect">smartConnect</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#socketConnectionTimeout">socketConnectionTimeout</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onConnection">onConnection</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version history:</span><div class="item"><ul><li> SmartFoxServer Pro v1.6.0 - BlueBox connection attempt in case of socket connection not available. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Lite (except BlueBox connection) / Basic (except BlueBox connection) / Pro </li></ul></div></div></div></div></div><div class="member" id="connected"><h3>connected</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code">function <b>connected</b> (
</div><div class="code">) : Boolean</div><br class="clear" /></div></div><div class="description"> 	Get the connection status. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Returns:</span><div class="item"><ul><li> A boolean flag indicating if the current user is connected to the server. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to check the connection status.<br />			<pre>
<span class="codeIdentifier">trace</span>(<span class="codeString">"My connection status: "</span> + (smartFox.connected() ? <span class="codeString">"connected"</span> : <span class="codeString">"not connected"</span>))</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="createRoom"><h3>createRoom</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code">function <b>createRoom</b> (

</div><div class="code">roomObj:Object,
roomId:Number) : Void</div><br class="clear" /></div></div><div class="description"> 	Dynamically create a new room in the current zone.<br /><br /><b>NOTE</b>: if the newly created room is a game room, the user is joined automatically upon successful room creation. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">roomObj        <span class="itemSeparator">:</span></div><div>an object with the properties described farther on.</div></div><div class="item"><div class="floatbox code colorizedCode">roomId         <span class="itemSeparator">:</span></div><div>the id of the room from where the request is originated, in case the application allows multi-room join (optional, default value: <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#activeRoomId">activeRoomId</a>).<hr />The <i>roomObj</i> parameter is an object containing the following properties:</div></div><div class="item"><div class="floatbox code colorizedCode">name           <span class="itemSeparator">:</span></div><div>(<b>String</b>) the room name.</div></div><div class="item"><div class="floatbox code colorizedCode">password       <span class="itemSeparator">:</span></div><div>(<b>String</b>) a password to make the room private (optional, default: none).</div></div><div class="item"><div class="floatbox code colorizedCode">maxUsers       <span class="itemSeparator">:</span></div><div>(<b>Number</b>) the maximum number of users that can join the room.</div></div><div class="item"><div class="floatbox code colorizedCode">maxSpectators  <span class="itemSeparator">:</span></div><div>(<b>Number</b>) in game rooms only, the maximum number of spectators that can join the room (optional, default value: 0).</div></div><div class="item"><div class="floatbox code colorizedCode">isGame         <span class="itemSeparator">:</span></div><div>(<b>Boolean</b>) if <code>true</code>, the room is a game room (optional, default value: <code>false</code>).</div></div><div class="item"><div class="floatbox code colorizedCode">exitCurrentRoom<span class="itemSeparator">:</span></div><div>(<b>Boolean</b>) if <code>true</code> and in case of game room, the new room is joined after creation (optional, default value: <code>true</code>).</div></div><div class="item"><div class="floatbox code colorizedCode">uCount         <span class="itemSeparator">:</span></div><div>(<b>Boolean</b>) if <code>true</code>, the new room will receive the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onUserCountChange">onUserCountChange</a> notifications (optional, default <u>recommended</u> value: <code>false</code>).</div></div><div class="item"><div class="floatbox code colorizedCode">vars           <span class="itemSeparator">:</span></div><div>(<b>Array</b>) an array of Room Variables, as described in the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#setRoomVariables">setRoomVariables</a> method documentation (optional, default: none).</div></div><div class="item"><div class="floatbox code colorizedCode">extension      <span class="itemSeparator">:</span></div><div>(<b>Object</b>) which extension should be dynamically attached to the room, as described farther on (optional, default: none).<hr />A Room-level extension can be attached to any room during creation; the <i>extension</i> property in the <i>roomObj</i> parameter is an object with the following properties:</div></div><div class="item"><div class="floatbox code colorizedCode">name           <span class="itemSeparator">:</span></div><div>(<b>String</b>) the name used to reference the extension (see the SmartFoxServer server-side configuration).</div></div><div class="item"><div class="floatbox code colorizedCode">script         <span class="itemSeparator">:</span></div><div>(<b>String</b>) the file name of the extension script (for Actionscript and Python); if Java is used, the fully qualified name of the extension must be provided. The file name is relative to the root of the extension folder ("sfsExtensions/" for Actionscript and Python, "javaExtensions/" for Java).</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Returns:</span><div class="item"><ul><li> Nothing. Causes the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onRoomAdded">onRoomAdded</a> or <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onCreateRoomError">onCreateRoomError</a> handlers to be called in response. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to create a new room.<br />			<pre>
<span class="codeKeyword">var</span> roomObj:<span class="codeIdentifier">Object</span> = <span class="codeKeyword">new</span> <span class="codeIdentifier">Object</span>()
roomObj<span class="codeIdentifier">.name</span> = <span class="codeString">"The Cave"</span>
roomObj.isGame = <span class="codeIdentifier">true</span>
roomObj.maxUsers = <span class="codeNumber">15</span>

<span class="codeKeyword">var</span> variables:<span class="codeIdentifier">Array</span> = <span class="codeKeyword">new</span> <span class="codeIdentifier">Array</span>()
variables<span class="codeIdentifier">.push</span>({name:<span class="codeString">"ogres"</span>, val:<span class="codeNumber">5</span>, priv:<span class="codeIdentifier">true</span>})
variables<span class="codeIdentifier">.push</span>({name:<span class="codeString">"skeletons"</span>, val:<span class="codeNumber">4</span>})

roomObj.vars = variables

smartFox.createRoom(roomObj)</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onRoomAdded">onRoomAdded</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onCreateRoomError">onCreateRoomError</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onUserCountChange">onUserCountChange</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Lite / Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="disconnect"><h3>disconnect</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code">function <b>disconnect</b> (
</div><div class="code">) : Void</div><br class="clear" /></div></div><div class="description"> 	Close the current connection to SmartFoxServer. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Returns:</span><div class="item"><ul><li> Nothing. Causes the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onConnectionLost">onConnectionLost</a> handler to be called in response. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to disconnect from SmartFoxServer.<br />			<pre>
smartFox.disconnect()</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#connect">connect</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onConnectionLost">onConnectionLost</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Lite / Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="getActiveRoom"><h3>getActiveRoom</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code">function <b>getActiveRoom</b> (
</div><div class="code">) : <a class="className" href="it_gotoandplay_smartfoxserver_Room.html">Room</a></div><br class="clear" /></div></div><div class="description"> 	Get the currently active <a class="className" href="it_gotoandplay_smartfoxserver_Room.html">Room</a> object.<br />SmartFoxServer allows users to join two or more rooms at the same time (multi-room join). If this feature is used, then this method is useless and the application should track the various room id(s) manually, for example by keeping them in an array. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Returns:</span><div class="item"><ul><li> the <a class="className" href="it_gotoandplay_smartfoxserver_Room.html">Room</a> object of the currently active room; if the user joined more than one room, the last joined room is returned. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to retrieve the current room object.<br />			<pre>
<span class="codeKeyword">var</span> room:Room = smartFox.getActiveRoom()
<span class="codeIdentifier">trace</span>(<span class="codeString">"Current room is: "</span> + room.getName())</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#activeRoomId">activeRoomId</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Lite / Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="getBuddyById"><h3>getBuddyById</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code">function <b>getBuddyById</b> (
</div><div class="code">id:Number) : Object</div><br class="clear" /></div></div><div class="description"> 	Get a buddy from the buddy list, using the user id as key.<br />Refer to the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#buddyList">buddyList</a> property for a description of the buddy object's properties. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">id<span class="itemSeparator">:</span></div><div>the user id of the buddy.</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Returns:</span><div class="item"><ul><li> The buddy object. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to retrieve a buddy from the buddy list.<br />			<pre>
<span class="codeKeyword">var</span> buddy:<span class="codeIdentifier">Object</span> = smartFox.getBuddyById(<span class="codeNumber">25</span>)

<span class="codeIdentifier">trace</span>(<span class="codeString">"Buddy id: "</span> + buddy.id)
<span class="codeIdentifier">trace</span>(<span class="codeString">"Buddy name: "</span> + buddy<span class="codeIdentifier">.name</span>)
<span class="codeIdentifier">trace</span>(<span class="codeString">"Is buddy online? "</span> + buddy.isOnline ? <span class="codeString">"Yes"</span> : <span class="codeString">"No"</span>)
<span class="codeIdentifier">trace</span>(<span class="codeString">"Is buddy blocked? "</span> + buddy.isBlocked ? <span class="codeString">"Yes"</span> : <span class="codeString">"No"</span>)

<span class="codeIdentifier">trace</span>(<span class="codeString">"Buddy Variables:"</span>)
<span class="codeKeyword">for</span> (<span class="codeKeyword">var</span> v:<span class="codeIdentifier">String</span> <span class="codeKeyword">in</span> buddy.variables)
    <span class="codeIdentifier">trace</span>(<span class="codeString">"\t"</span> + v + <span class="codeString">" --&#62; "</span> + buddy.variables[v])</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#buddyList">buddyList</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#getBuddyByName">getBuddyByName</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Since:</span><div class="item"><ul><li> SmartFoxServer Pro v1.6.0 </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Pro </li></ul></div></div></div></div></div><div class="member" id="getBuddyByName"><h3>getBuddyByName</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code">function <b>getBuddyByName</b> (
</div><div class="code">buddyName:String) : Object</div><br class="clear" /></div></div><div class="description"> 	Get a buddy from the buddy list, using the buddy's username as key.<br />Refer to the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#buddyList">buddyList</a> property for a description of the buddy object's properties. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">buddyName<span class="itemSeparator">:</span></div><div>the username of the buddy.</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Returns:</span><div class="item"><ul><li> The buddy object. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to retrieve a buddy from the buddy list.<br />			<pre>
<span class="codeKeyword">var</span> buddy:<span class="codeIdentifier">Object</span> = smartFox.getBuddyByName(<span class="codeString">"jack"</span>)

<span class="codeIdentifier">trace</span>(<span class="codeString">"Buddy id: "</span> + buddy.id)
<span class="codeIdentifier">trace</span>(<span class="codeString">"Buddy name: "</span> + buddy<span class="codeIdentifier">.name</span>)
<span class="codeIdentifier">trace</span>(<span class="codeString">"Is buddy online? "</span> + buddy.isOnline ? <span class="codeString">"Yes"</span> : <span class="codeString">"No"</span>)
<span class="codeIdentifier">trace</span>(<span class="codeString">"Is buddy blocked? "</span> + buddy.isBlocked ? <span class="codeString">"Yes"</span> : <span class="codeString">"No"</span>)

<span class="codeIdentifier">trace</span>(<span class="codeString">"Buddy Variables:"</span>)
<span class="codeKeyword">for</span> (<span class="codeKeyword">var</span> v:<span class="codeIdentifier">String</span> <span class="codeKeyword">in</span> buddy.variables)
    <span class="codeIdentifier">trace</span>(<span class="codeString">"\t"</span> + v + <span class="codeString">" --&#62; "</span> + buddy.variables[v])</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#buddyList">buddyList</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#getBuddyById">getBuddyById</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Since:</span><div class="item"><ul><li> SmartFoxServer Pro v1.6.0 </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Pro </li></ul></div></div></div></div></div><div class="member" id="getBuddyRoom"><h3>getBuddyRoom</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code">function <b>getBuddyRoom</b> (
</div><div class="code">buddy:Object) : Void</div><br class="clear" /></div></div><div class="description"> 	Request the room id(s) of the room(s) where a buddy is currently located into. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">buddy<span class="itemSeparator">:</span></div><div>a buddy object taken from the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#buddyList">buddyList</a> array.</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Returns:</span><div class="item"><ul><li> Nothing. Causes the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onBuddyRoom">onBuddyRoom</a> handler to be called in response. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to join the same room of a buddy.<br />			<pre>
smartFox.onBuddyRoom = onBuddyRoomHandler

<span class="codeKeyword">var</span> buddy:<span class="codeIdentifier">Object</span> = smartFox.getBuddyByName(<span class="codeString">"jack"</span>)
smartFox.getBuddyRoom(buddy)

<span class="codeKeyword">function</span> onBuddyRoomHandler(idList:<span class="codeIdentifier">Array</span>):<span class="codeIdentifier">Void</span>
{
    <span class="codeComment">// Reach the buddy in his room</span>
    smartFox<span class="codeIdentifier">.join</span>(idList[<span class="codeNumber">0</span>])
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#buddyList">buddyList</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onBuddyRoom">onBuddyRoom</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="getConnectionMode"><h3>getConnectionMode</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code">function <b>getConnectionMode</b> (
</div><div class="code">) : String</div><br class="clear" /></div></div><div class="description"> 	Get the current connection mode. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Returns:</span><div class="item"><ul><li> The current connection mode, expressed by one of the following constants: <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#CONNECTION_MODE_DISCONNECTED">CONNECTION_MODE_DISCONNECTED</a> (disconnected), <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#CONNECTION_MODE_SOCKET">CONNECTION_MODE_SOCKET</a> (socket mode), <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#CONNECTION_MODE_HTTP">CONNECTION_MODE_HTTP</a> (http mode). </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to check the current connection mode.<br />			<pre>
    smartFox.onConnection = onConnectionHandler

smartFox<span class="codeIdentifier">.connect</span>(<span class="codeString">"127.0.0.1"</span>, <span class="codeNumber">9339</span>)

<span class="codeKeyword">function</span> onConnectionHandler(success:<span class="codeIdentifier">Boolean</span>):<span class="codeIdentifier">Void</span>
{
    <span class="codeIdentifier">trace</span>(<span class="codeString">"Connection mode: "</span> + smartFox.getConnectionMode())
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#CONNECTION_MODE_DISCONNECTED">CONNECTION_MODE_DISCONNECTED</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#CONNECTION_MODE_SOCKET">CONNECTION_MODE_SOCKET</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#CONNECTION_MODE_HTTP">CONNECTION_MODE_HTTP</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#connect">connect</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Since:</span><div class="item"><ul><li> SmartFoxServer Pro v1.6.0 </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Pro </li></ul></div></div></div></div></div><div class="member" id="getRandomKey"><h3>getRandomKey</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code">function <b>getRandomKey</b> (
</div><div class="code">) : Void</div><br class="clear" /></div></div><div class="description"> 	Retrieve a random string key from the server.<br />This key is also referred in the SmartFoxServer documentation as the "secret key".<br />It's a unique key, valid for the current session only. It can be used to create a secure login system. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Returns:</span><div class="item"><ul><li> Nothing. Causes the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onRandomKey">onRandomKey</a> handler to be called in response. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to handle the request a random key to the server.<br />			<pre>
smartFox.onRandomKey = onRandomKeyHandler

smartFox.getRandomKey()

<span class="codeKeyword">function</span> onRandomKeyHandler(key:<span class="codeIdentifier">String</span>):<span class="codeIdentifier">Void</span>
{
    <span class="codeIdentifier">trace</span>(<span class="codeString">"Random key received from server: "</span> + key)
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onRandomKey">onRandomKey</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Pro </li></ul></div></div></div></div></div><div class="member" id="getRoom"><h3>getRoom</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code">function <b>getRoom</b> (
</div><div class="code">roomId) : <a class="className" href="it_gotoandplay_smartfoxserver_Room.html">Room</a></div><br class="clear" /></div></div><div class="description"> 	Get a <a class="className" href="it_gotoandplay_smartfoxserver_Room.html">Room</a> object, using its id or name as key. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">roomId<span class="itemSeparator">:</span></div><div>the id (<code>Number</code>) or the name (<code>String</code>) of the room.</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Returns:</span><div class="item"><ul><li> The <a class="className" href="it_gotoandplay_smartfoxserver_Room.html">Room</a> object. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to retrieve a room from its id.<br />			<pre>
<span class="codeKeyword">var</span> roomObj:Room = smartFox.getRoom(<span class="codeNumber">15</span>)
<span class="codeIdentifier">trace</span>(<span class="codeString">"Room name: "</span> + roomObj.getName() + <span class="codeString">", max users: "</span> + roomObj.getMaxUsers())</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#roomList">roomList</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#getRoomList">getRoomList</a> </li><li> <a class="className" href="it_gotoandplay_smartfoxserver_Room.html">Room</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Lite / Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="getRoomList"><h3>getRoomList</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code">function <b>getRoomList</b> (
</div><div class="code">) : Void</div><br class="clear" /></div></div><div class="description"> 	Retrieve the updated list of rooms in the current zone.<br />Unlike the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#roomList">roomList</a> property, this method sends a request to the server, which then sends back the complete list of rooms with all their properties and server-side variables (Room Variables).<br /><br />If the default login mechanism provided by SmartFoxServer is used, then the updated list of rooms is received right after a successful login, without the need to call this method.<br />Instead, if a custom login handler is implemented, the room list must be manually requested to the server using this method. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Returns:</span><div class="item"><ul><li> Nothing. Causes the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onRoomListUpdate">onRoomListUpdate</a> handler to be called in response. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to retrieve the room list from the server.<br />			<pre>
smartFox.onRoomListUpdate = onRoomListUpdateHandler

smartFox.getRoomList()

<span class="codeKeyword">function</span> onRoomListUpdateHandler(roomList:<span class="codeIdentifier">Object</span>):<span class="codeIdentifier">Void</span>
{
    <span class="codeComment">// Dump the names of the available rooms in the current zone</span>
    <span class="codeKeyword">for</span> (<span class="codeKeyword">var</span> r:<span class="codeIdentifier">String</span> <span class="codeKeyword">in</span> roomList)
        <span class="codeIdentifier">trace</span>(roomList[r].getName())
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#getRoom">getRoom</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#roomList">roomList</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onRoomListUpdate">onRoomListUpdate</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Lite / Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="getUploadPath"><h3>getUploadPath</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code">function <b>getUploadPath</b> (
</div><div class="code">) : String</div><br class="clear" /></div></div><div class="description"> 	Get the default upload path of the embedded webserver. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Returns:</span><div class="item"><ul><li> The http address of the default folder in which files are uploaded. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to get the default upload path.<br />			<pre>
<span class="codeKeyword">var</span> path:<span class="codeIdentifier">String</span> = smartFox.getUploadPath()</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#uploadFile">uploadFile</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Since:</span><div class="item"><ul><li> SmartFoxServer Pro v1.5.0 </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="getVersion"><h3>getVersion</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code">function <b>getVersion</b> (
</div><div class="code">) : String</div><br class="clear" /></div></div><div class="description"> 	Get the SmartFoxServer Flash API version. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Returns:</span><div class="item"><ul><li> The current version of the SmartFoxServer client API. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to trace the SmartFoxServer API version.<br />			<pre>
<span class="codeIdentifier">trace</span>(<span class="codeString">"Current API version: "</span> + smartFox.getVersion())</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Lite / Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="joinRoom"><h3>joinRoom</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code">function <b>joinRoom</b> (




</div><div class="code">newRoom,
pword:String,
isSpectator:Boolean,
dontLeave:Boolean,
oldRoom:Number) : Void</div><br class="clear" /></div></div><div class="description"> 	Join a room. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">newRoom    <span class="itemSeparator">:</span></div><div>the name (<code>String</code>) or the id (<code>Number</code>) of the room to join.</div></div><div class="item"><div class="floatbox code colorizedCode">pword      <span class="itemSeparator">:</span></div><div>the room's password, if it's a private room (optional, dafault value: <code>null</code>).</div></div><div class="item"><div class="floatbox code colorizedCode">isSpectator<span class="itemSeparator">:</span></div><div>a boolean flag indicating wheter you join as a spectator or not (optional, dafault value: <code>false</code>).</div></div><div class="item"><div class="floatbox code colorizedCode">dontLeave  <span class="itemSeparator">:</span></div><div>a boolean flag indicating if the current room must be left after successfully joining the new room (optional, dafault value: <code>false</code>).</div></div><div class="item"><div class="floatbox code colorizedCode">oldRoom    <span class="itemSeparator">:</span></div><div>the id of the room to leave (optional, default value: <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#activeRoomId">activeRoomId</a>).<hr /><b>NOTE</b>: the last two optional parameters enable the advanced multi-room join feature of SmartFoxServer, which allows a user to join two or more rooms at the same time. If this feature is not required, the parameters can be omitted.</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Returns:</span><div class="item"><ul><li> Nothing. Causes the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onJoinRoom">onJoinRoom</a> or <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onJoinRoomError">onJoinRoomError</a> handlers to be called in response. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> In the following example the user requests to join a room with id = 10; by default SmartFoxServer will disconnect him from the previous room.<br />			<pre>
smartFox.joinRoom(<span class="codeNumber">10</span>)</pre><hr />In the following example the user requests to join a room with id = 12 and password = "mypassword"; by default SmartFoxServer will disconnect him from the previous room.<br />			<pre>
smartFox.joinRoom(<span class="codeNumber">12</span>, <span class="codeString">"mypassword"</span>)</pre><hr />In the following example the user requests to join the room with id = 15 and passes <code>true</code> to the <i>dontLeave</i> flag; this will join the user in the new room while keeping him in the old room as well.<br />			<pre>
smartFox.joinRoom(<span class="codeNumber">15</span>, "", <span class="codeIdentifier">false</span>, <span class="codeIdentifier">true</span>)</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onJoinRoom">onJoinRoom</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onJoinRoomError">onJoinRoomError</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Lite / Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="leaveRoom"><h3>leaveRoom</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code">function <b>leaveRoom</b> (
</div><div class="code">roomId:Number) : Void</div><br class="clear" /></div></div><div class="description"> 	Disconnect the user from the given room.<br />This method should be used only when users are allowed to be present in more than one room at the same time (multi-room join feature). </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">roomId<span class="itemSeparator">:</span></div><div>the id of the room to leave.</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Returns:</span><div class="item"><ul><li> Nothing. Causes the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onRoomLeft">onRoomLeft</a> handler to be called in response. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to make a user leave a room.<br />			<pre>
smartFox.leaveRoom(<span class="codeNumber">15</span>)</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#joinRoom">joinRoom</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onRoomLeft">onRoomLeft</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Lite / Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="loadBuddyList"><h3>loadBuddyList</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code">function <b>loadBuddyList</b> (
</div><div class="code">) : Void</div><br class="clear" /></div></div><div class="description"> 	Load the buddy list for the current user. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Returns:</span><div class="item"><ul><li> Nothing. Causes the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onBuddyList">onBuddyList</a> or <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onBuddyListError">onBuddyListError</a> handlers to be called in response. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to load the current user's buddy list.<br />			<pre>
smartFox.onBuddyList = onBuddyListHandler

smartFox.loadBuddyList()		

<span class="codeKeyword">function</span> onBuddyListHandler(list:<span class="codeIdentifier">Array</span>):<span class="codeIdentifier">Void</span>
{
    <span class="codeKeyword">for</span> (<span class="codeKeyword">var</span> b:<span class="codeIdentifier">String</span> <span class="codeKeyword">in</span> list)
    {
        <span class="codeKeyword">var</span> buddy:<span class="codeIdentifier">Object</span> = list[b]

        <span class="codeIdentifier">trace</span>(<span class="codeString">"Buddy id: "</span> + buddy.id)
        <span class="codeIdentifier">trace</span>(<span class="codeString">"Buddy name: "</span> + buddy<span class="codeIdentifier">.name</span>)
        <span class="codeIdentifier">trace</span>(<span class="codeString">"Is buddy online? "</span> + buddy.isOnline ? <span class="codeString">"Yes"</span> : <span class="codeString">"No"</span>)
        <span class="codeIdentifier">trace</span>(<span class="codeString">"Is buddy blocked? "</span> + buddy.isBlocked ? <span class="codeString">"Yes"</span> : <span class="codeString">"No"</span>)

        <span class="codeIdentifier">trace</span>(<span class="codeString">"Buddy Variables:"</span>)
        <span class="codeKeyword">for</span> (<span class="codeKeyword">var</span> v:<span class="codeIdentifier">String</span> <span class="codeKeyword">in</span> buddy.variables)
            <span class="codeIdentifier">trace</span>(<span class="codeString">"\t"</span> + v + <span class="codeString">" --&#62; "</span> + buddy.variables[v])
    }
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#buddyList">buddyList</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onBuddyList">onBuddyList</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onBuddyListError">onBuddyListError</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="loadConfig"><h3>loadConfig</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code">function <b>loadConfig</b> (

</div><div class="code">configFile:String,
autoConnect:Boolean) : Void</div><br class="clear" /></div></div><div class="description"> 	Load a client configuration file.<br />The SmartFoxClient instance can be configured through an external xml configuration file loaded at run-time.<br />By default, the <b>loadConfig</b> method loads a file named "config.xml", placed in the same folder of the application swf file.<br />If the <i>autoConnect</i> parameter is set to <code>true</code>, on loading completion the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#connect">connect</a> method is automatically called by the API, otherwise the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onConfigLoadSuccess">onConfigLoadSuccess</a> handler is called.<br />In case of loading error, the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onConfigLoadFailure">onConfigLoadFailure</a> handler id called.<br /><br /><b>NOTE</b>: the SmartFoxClient configuration file (client-side) should not be confused with the SmartFoxServer configuration file (server-side). </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">configFile <span class="itemSeparator">:</span></div><div>external xml configuration file name (optional).</div></div><div class="item"><div class="floatbox code colorizedCode">autoConnect<span class="itemSeparator">:</span></div><div>a boolean flag indicating if the connection to SmartFoxServer must be attempted upon configuration loading completion (optional).</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Usage note:</span><div class="item"><ul><li> The external xml configuration file has the following structure; ip, port and zone parameters are mandatory, all other parameters are optional.<br />				<pre>
&#60;SmartFoxClient&#62;
    &#60;ip&#62;<span class="codeNumber">127.0.0.1</span>&#60;/ip&#62;
    &#60;port&#62;<span class="codeNumber">9339</span>&#60;/port&#62;
    &#60;zone&#62;simpleChat&#60;/zone&#62;
    &#60;debug&#62;true&#60;/debug&#62;
    &#60;blueBoxIpAddress&#62;<span class="codeNumber">127.0.0.1</span>&#60;/blueBoxIpAddress&#62;
    &#60;blueBoxPort&#62;<span class="codeNumber">9339</span>&#60;/blueBoxPort&#62;
    &#60;smartConnect&#62;true&#60;/smartConnect&#62;
    &#60;socketConnectionTimeout&#62;<span class="codeNumber">5000</span>&#60;/socketConnectionTimeout&#62;
    &#60;httpPort&#62;<span class="codeNumber">8080</span>&#60;/httpPort&#62;
    &#60;httpPollSpeed&#62;<span class="codeNumber">750</span>&#60;/httpPollSpeed&#62;
    &#60;rawProtocolSeparator&#62;%&#60;/rawProtocolSeparator&#62;
&#60;/SmartFoxClient&#62;</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Returns:</span><div class="item"><ul><li> Nothing. Causes the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onConfigLoadSuccess">onConfigLoadSuccess</a> or <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onConfigLoadFailure">onConfigLoadFailure</a> handlers to be called. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Events broadcasted to listeners:</span><div class="item"><ul><li>Object with type: <code>onConfigLoadSuccess</code> </li><li>Object with type: <code>onConfigLoadFailure</code> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to load an external configuration file.<br />			<pre>
smartFox.onConfigLoadSuccess = onConfigLoadSuccessHandler
smartFox.onConfigLoadFailure = onConfigLoadFailureHandler

smartFox.loadConfig(<span class="codeString">"testEnvironmentConfig.xml"</span>, <span class="codeIdentifier">false</span>)

<span class="codeKeyword">function</span> onConfigLoadSuccessHandler():<span class="codeIdentifier">Void</span>
{
    <span class="codeIdentifier">trace</span>(<span class="codeString">"Config file loaded, now connecting..."</span>)
    smartFox<span class="codeIdentifier">.connect</span>(smartFox.ipAddress, smartFox.port)
}

<span class="codeKeyword">function</span> onConfigLoadFailureHandler(message:<span class="codeIdentifier">String</span>):<span class="codeIdentifier">Void</span>
{
    <span class="codeIdentifier">trace</span>(<span class="codeString">"Failed loading config file: "</span> + message)
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#ipAddress">ipAddress</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#port">port</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#defaultZone">defaultZone</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#debug">debug</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#blueBoxIpAddress">blueBoxIpAddress</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#blueBoxPort">blueBoxPort</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#smartConnect">smartConnect</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#socketConnectionTimeout">socketConnectionTimeout</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#httpPort">httpPort</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#httpPollSpeed">httpPollSpeed</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#rawProtocolSeparator">rawProtocolSeparator</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onConfigLoadSuccess">onConfigLoadSuccess</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onConfigLoadFailure">onConfigLoadFailure</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Since:</span><div class="item"><ul><li> SmartFoxServer Pro v1.6.0 </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Pro </li></ul></div></div></div></div></div><div class="member" id="login"><h3>login</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code">function <b>login</b> (


</div><div class="code">zone:String,
name:String,
pass:String) : Void</div><br class="clear" /></div></div><div class="description"> 	Perform the default login procedure.<br />The standard SmartFoxServer login procedure accepts guest users. If a user logs in with an empty username, the server automatically creates a name for the client using the format <i>guest_n</i>, where <i>n</i> is a progressive number.<br />Also, the provided username and password are checked against the moderators list (see the SmartFoxServer server-side configuration) and if a user matches it, he is set as a Moderator.<br /><br /><b>NOTE 1</b>: duplicate names in the same zone are not allowed.<br /><br /><b>NOTE 2</b>: for SmartFoxServer Basic, where a server-side custom login procedure can't be implemented due to the lack of <i>extensions</i> support, a custom client-side procedure can be used, for example to check usernames against a database using a php/asp page.<br />In this case, this should be done BEFORE calling the <b>login</b> method. This way, once the client is validated, the stadard login procedure can be used.<br /><br /><b>NOTE 3</b>: for SmartFoxServer PRO. If the Zone you are accessing uses a custom login the login-response will be sent from server side and you will need to handle it using the <b>onExtensionResponse</b> handler.<br />Additionally you will need to manually set the myUserId and myUserName properties if you need them. (This is automagically done by the API when using a <em>default login</em>) </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">zone<span class="itemSeparator">:</span></div><div>the name of the zone to log into.</div></div><div class="item"><div class="floatbox code colorizedCode">name<span class="itemSeparator">:</span></div><div>the user name.</div></div><div class="item"><div class="floatbox code colorizedCode">pass<span class="itemSeparator">:</span></div><div>the user password.</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Returns:</span><div class="item"><ul><li> Nothing. Causes the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onLogin">onLogin</a> handler to be called in response. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to login into a zone.<br />			<pre>
smartFox.onLogin = onLoginHandler

smartFox.login(<span class="codeString">"simpleChat"</span>, <span class="codeString">"jack"</span>)

<span class="codeKeyword">function</span> onLoginHandler(response:<span class="codeIdentifier">Object</span>):<span class="codeIdentifier">Void</span>
{
    <span class="codeKeyword">if</span> (response.success)
        <span class="codeIdentifier">trace</span>(<span class="codeString">"Successfully logged in as "</span> + response<span class="codeIdentifier">.name</span>)
    <span class="codeKeyword">else</span>
        <span class="codeIdentifier">trace</span>(<span class="codeString">"Zone login error; the following error occurred: "</span> + response.error)
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#logout">logout</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onLogin">onLogin</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onExtensionResponse">onExtensionResponse</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Lite / Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="logout"><h3>logout</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code">function <b>logout</b> (
</div><div class="code">) : Void</div><br class="clear" /></div></div><div class="description"> 	Log the user out of the current zone.<br />After a successful logout the user is still connected to the server, but he/she has to login again into a zone, in order to be able to interact with the server. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Returns:</span><div class="item"><ul><li> Nothing. Causes the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onLogout">onLogout</a> handler to be called in response. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to logout from a zone.<br />			<pre>
smartFox.onLogout = onLogoutHandler

smartFox.logout()

<span class="codeKeyword">function</span> onLogoutHandler():<span class="codeIdentifier">Void</span>
{
    <span class="codeIdentifier">trace</span>(<span class="codeString">"Logged out successfully"</span>)
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#login">login</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onLogout">onLogout</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Since:</span><div class="item"><ul><li> SmartFoxServer Pro v1.5.5 </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="removeBuddy"><h3>removeBuddy</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code">function <b>removeBuddy</b> (
</div><div class="code">buddyName:String) : Void</div><br class="clear" /></div></div><div class="description"> 	Remove a buddy from the buddy list.<br />Since SmartFoxServer Pro 1.6.0, the buddy list feature can be configured to use a <i>basic</i> or <i>advanced</i> security mode (see the SmartFoxServer server-side configuration file).<br />Check the following usage notes for details on the behavior of the <b>removeBuddy</b> method in the two cases. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">buddyName<span class="itemSeparator">:</span></div><div>the name of the user to be removed from the buddy list.</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Usage note:</span><div class="item"><ul><li> <i>Basic security mode</i><br />				When a buddy is removed, the buddy list is updated and the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onBuddyList">onBuddyList</a> handler is called.<hr /><i>Advanced security mode</i><br />				In addition to the basic behavior, if the <code>&lt;mutualRemoveBuddy&gt;</code> server-side configuration parameter is set to <code>true</code>, when user A removes user B from the buddy list, he/she is automatically removed from user B's buddy list. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Returns:</span><div class="item"><ul><li> Nothing. Causes the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onBuddyList">onBuddyList</a> handler to be called in response. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to remove a user from the buddy list.<br />			<pre>
<span class="codeKeyword">var</span> buddyName:<span class="codeIdentifier">String</span> = <span class="codeString">"jack"</span>
smartFox.removeBuddy(buddyName)</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#buddyList">buddyList</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#addBuddy">addBuddy</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onBuddyList">onBuddyList</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version history:</span><div class="item"><ul><li> SmartFoxServer Pro v1.6.0 - Buddy list's <i>advanced security mode</i> implemented. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Basic (except <i>advanced mode</i>) / Pro </li></ul></div></div></div></div></div><div class="member" id="roundTripBench"><h3>roundTripBench</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code">function <b>roundTripBench</b> (
</div><div class="code">) : Void</div><br class="clear" /></div></div><div class="description"> 	Send a roundtrip request to the server to test the connection' speed.<br />The roundtrip request sends a small packet to the server which immediately responds with another small packet, and causing the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onRoundTripResponse">onRoundTripResponse</a> handler to be called.<br />The time taken by the packet to travel forth and back is called "roundtrip time" and can be used to calculate the average network lag of the client.<br />A good way to measure the network lag is to send continuos requests (every 3 or 5 seconds) and then calculate the average roundtrip time on a fixed number of responses (i.e. the last 10 measurements). </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Returns:</span><div class="item"><ul><li> Nothing. Causes the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onRoundTripResponse">onRoundTripResponse</a> handler to be called in response. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to check the average network lag time.<br />			<pre>
smartFox.onRoundTripResponse = onRoundTripResponseHandler

<span class="codeKeyword">var</span> totalPingTime:<span class="codeIdentifier">Number</span> = <span class="codeNumber">0</span>
<span class="codeKeyword">var</span> pingCount:<span class="codeIdentifier">Number</span> = <span class="codeNumber">0</span>

smartFox.roundTripBench() <span class="codeComment">// TODO: this method must be called repeatedly every 3-5 seconds to have a significant average value</span>

<span class="codeKeyword">function</span> onRoundTripResponseHandler(elapsed:<span class="codeIdentifier">Number</span>):<span class="codeIdentifier">Void</span>
{
    <span class="codeComment">// We assume that it takes the same time to the ping message to go from the client to the server</span>
    <span class="codeComment">// and from the server back to the client, so we divide the elapsed time by 2.</span>
    totalPingTime += elapsed / <span class="codeNumber">2</span>
    pingCount++

    <span class="codeKeyword">var</span> avg:<span class="codeIdentifier">Number</span> = Math.round(totalPingTime / pingCount)

    <span class="codeIdentifier">trace</span>(<span class="codeString">"Average lag: "</span> + avg + <span class="codeString">" milliseconds"</span>)
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onRoundTripResponse">onRoundTripResponse</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Lite / Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="sendBuddyPermissionResponse"><h3>sendBuddyPermissionResponse</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code">function <b>sendBuddyPermissionResponse</b> (

</div><div class="code">allowBuddy:Boolean,
targetBuddy:String) : Void</div><br class="clear" /></div></div><div class="description"> 	Grant current user permission to be added to a buddy list.<br />If the SmartFoxServer Pro 1.6.0 <i>advanced</i> security mode is used (see the SmartFoxServer server-side configuration), when a user wants to add a buddy to his/her buddy list, a permission request is sent to the buddy.<br />Once the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onBuddyPermissionRequest">onBuddyPermissionRequest</a> handler is called, this method must be used by the buddy to grant or refuse permission. When the permission is granted, the requester's buddy list is updated. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">allowBuddy <span class="itemSeparator">:</span></div><div><code>true</code> to grant permission, <code>false</code> to refuse to be added to the requester's buddy list.</div></div><div class="item"><div class="floatbox code colorizedCode">targetBuddy<span class="itemSeparator">:</span></div><div>the username of the requester.</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to grant permission to be added to a buddy list once request is received.<br />			<pre>
smartFox.onBuddyPermissionRequest = onBuddyPermissionRequestHandler

<span class="codeKeyword">var</span> autoGrantPermission:<span class="codeIdentifier">Boolean</span> = <span class="codeIdentifier">true</span>

<span class="codeKeyword">function</span> onBuddyPermissionRequestHandler(sender:<span class="codeIdentifier">String</span>, message:<span class="codeIdentifier">String</span>):<span class="codeIdentifier">Void</span>
{
    <span class="codeKeyword">if</span> (autoGrantPermission)
    {
        <span class="codeComment">// Automatically grant permission</span>

        smartFox.sendBuddyPermissionResponse(<span class="codeIdentifier">true</span>, sender)
    }
    <span class="codeKeyword">else</span>
    {
        <span class="codeComment">// Display an alert attaching a movieclip from the Flash library</span>
        <span class="codeKeyword">var</span> alert_mc:<span class="codeIdentifier">MovieClip</span> = <span class="codeIdentifier">attachMovie</span>(<span class="codeString">"customAlertPanel"</span>, <span class="codeString">"customAlertPanel"</span>, <span class="codeNumber">100</span>)

        alert_mc.name_lb<span class="codeIdentifier">.text</span> = sender
        alert_mc.message_lb<span class="codeIdentifier">.text</span> = message
    }
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#addBuddy">addBuddy</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onBuddyPermissionRequest">onBuddyPermissionRequest</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Since:</span><div class="item"><ul><li> SmartFoxServer Pro v1.6.0 </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Pro </li></ul></div></div></div></div></div><div class="member" id="sendModeratorMessage"><h3>sendModeratorMessage</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code">function <b>sendModeratorMessage</b> (


</div><div class="code">message:String,
type:String,
id:Number) : Void</div><br class="clear" /></div></div><div class="description"> 	Send a Moderator message to the current zone, the current room or a specific user in the current room.<br />In order to send these kind of messages, the user must have Moderator's privileges, which are set by SmartFoxServer when the user logs in (see the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#login">login</a> method). </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">message<span class="itemSeparator">:</span></div><div>the text of the message.</div></div><div class="item"><div class="floatbox code colorizedCode">type   <span class="itemSeparator">:</span></div><div>the type of message. The following constants can be passed: <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#MODMSG_TO_USER">MODMSG_TO_USER</a>, <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#MODMSG_TO_ROOM">MODMSG_TO_ROOM</a> and <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#MODMSG_TO_ZONE">MODMSG_TO_ZONE</a>, to send the message to a user, to the current room or to the entire current zone respectively.</div></div><div class="item"><div class="floatbox code colorizedCode">id     <span class="itemSeparator">:</span></div><div>the id of the recipient room or user (ignored if the message is sent to the zone).</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Returns:</span><div class="item"><ul><li> Nothing. Causes the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onModeratorMessage">onModeratorMessage</a> handler to be called. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to send a Moderator message.<br />			<pre>
smartFox.sendModeratorMessage(<span class="codeString">"Greetings from the Moderator"</span>, SmartFoxClient.MODMSG_TO_ROOM, smartFox.getActiveRoom())</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#login">login</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#MODMSG_TO_USER">MODMSG_TO_USER</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#MODMSG_TO_ROOM">MODMSG_TO_ROOM</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#MODMSG_TO_ZONE">MODMSG_TO_ZONE</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onModeratorMessage">onModeratorMessage</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Since:</span><div class="item"><ul><li> SmartFoxServer Pro v1.4.5 </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="sendObject"><h3>sendObject</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code">function <b>sendObject</b> (

</div><div class="code">obj:Object,
roomId:Number) : Void</div><br class="clear" /></div></div><div class="description"> 	Send an Actionscript object to the other users in the current room.<br />This method can be used to send complex/nested data structures to clients, like a game move or a game status change. Supported data types are: Strings, Booleans, Numbers, Arrays, Objects. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">obj   <span class="itemSeparator">:</span></div><div>the Actionscript object to be sent.</div></div><div class="item"><div class="floatbox code colorizedCode">roomId<span class="itemSeparator">:</span></div><div>the id of the target room, in case of multi-room join (optional, default value: <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#activeRoomId">activeRoomId</a>).</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Returns:</span><div class="item"><ul><li> Nothing. Causes the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onObjectReceived">onObjectReceived</a> handler to be called. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to send a simple object with primitive data to the other users.<br />			<pre>
<span class="codeKeyword">var</span> move:<span class="codeIdentifier">Object</span> = <span class="codeKeyword">new</span> <span class="codeIdentifier">Object</span>()
move.x = <span class="codeNumber">150</span>
move.y = <span class="codeNumber">250</span>
move.speed = <span class="codeNumber">8</span>

smartFox.sendObject(move)</pre><hr />The following example shows how to send an object with two arrays of items to the other users.<br />			<pre>
<span class="codeKeyword">var</span> itemsFound:<span class="codeIdentifier">Object</span> = <span class="codeKeyword">new</span> <span class="codeIdentifier">Object</span>()
itemsFound.jewels = [<span class="codeString">"necklace"</span>, <span class="codeString">"ring"</span>]
itemsFound.weapons = [<span class="codeString">"sword"</span>, <span class="codeString">"sledgehammer"</span>]

smartFox.sendObject(itemsFound)</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#sendObjectToGroup">sendObjectToGroup</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onObjectReceived">onObjectReceived</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Lite / Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="sendObjectToGroup"><h3>sendObjectToGroup</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code">function <b>sendObjectToGroup</b> (


</div><div class="code">obj:Object,
userList:Array,
roomId:Number) : Void</div><br class="clear" /></div></div><div class="description"> 	Send an Actionscript object to a group of users in the room.<br />See <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#sendObject">sendObject</a> for more info. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">obj     <span class="itemSeparator">:</span></div><div>the Actionscript object to be sent.</div></div><div class="item"><div class="floatbox code colorizedCode">userList<span class="itemSeparator">:</span></div><div>an array containing the id(s) of the recipients.</div></div><div class="item"><div class="floatbox code colorizedCode">roomId  <span class="itemSeparator">:</span></div><div>the id of the target room, in case of multi-room join (optional, default value: <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#activeRoomId">activeRoomId</a>).</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Returns:</span><div class="item"><ul><li> Nothing. Causes the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onObjectReceived">onObjectReceived</a> handler to be called. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to send a simple object with primitive data to two users.<br />			<pre>
<span class="codeKeyword">var</span> move:<span class="codeIdentifier">Object</span> = <span class="codeKeyword">new</span> <span class="codeIdentifier">Object</span>()
move.x = <span class="codeNumber">150</span>
move.y = <span class="codeNumber">250</span>
move.speed = <span class="codeNumber">8</span>

smartFox.sendObjectToGroup(move, [<span class="codeNumber">11</span>, <span class="codeNumber">12</span>])</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#sendObject">sendObject</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onObjectReceived">onObjectReceived</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Lite / Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="sendPrivateMessage"><h3>sendPrivateMessage</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code">function <b>sendPrivateMessage</b> (


</div><div class="code">message:String,
recipientId:Number,
roomId:Number) : Void</div><br class="clear" /></div></div><div class="description"> 	Send a private message to a user.<br />The message is broadcasted to the recipient and the sender. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">message    <span class="itemSeparator">:</span></div><div>the text of the private message.</div></div><div class="item"><div class="floatbox code colorizedCode">recipientId<span class="itemSeparator">:</span></div><div>the id of the recipient user.</div></div><div class="item"><div class="floatbox code colorizedCode">roomId     <span class="itemSeparator">:</span></div><div>the id of the room from where the message is sent, in case of multi-room join (optional, default value: <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#activeRoomId">activeRoomId</a>).</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Returns:</span><div class="item"><ul><li> Nothing. Causes the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onPrivateMessage">onPrivateMessage</a> handler to be called in response. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to send and receive a private message.<br />			<pre>
smartFox.onPrivateMessage = onPrivateMessageHandler

smartFox.sendPrivateMessage(<span class="codeString">"Hallo Jack!"</span>, <span class="codeNumber">22</span>)

<span class="codeKeyword">function</span> onPrivateMessageHandler(message:<span class="codeIdentifier">String</span>, sender:User):<span class="codeIdentifier">Void</span>
{
    <span class="codeIdentifier">trace</span>(<span class="codeString">"User "</span> + sender.getName() + <span class="codeString">" sent the following private message: "</span> + message)
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#sendPublicMessage">sendPublicMessage</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onPrivateMessage">onPrivateMessage</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Lite / Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="sendPublicMessage"><h3>sendPublicMessage</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code">function <b>sendPublicMessage</b> (

</div><div class="code">message:String,
roomId:Number) : Void</div><br class="clear" /></div></div><div class="description"> 	Send a public message.<br />The message is broadcasted to all users in the current room, including the sender. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">message<span class="itemSeparator">:</span></div><div>the text of the public message.</div></div><div class="item"><div class="floatbox code colorizedCode">roomId <span class="itemSeparator">:</span></div><div>the id of the target room, in case of multi-room join (optional, default value: <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#activeRoomId">activeRoomId</a>).</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Returns:</span><div class="item"><ul><li> Nothing. Causes the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onPublicMessage">onPublicMessage</a> handler to be called in response. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to send and receive a public message.<br />			<pre>
smartFox.onPublicMessage = onPublicMessageHandler

smartFox.sendPublicMessage(<span class="codeString">"Hello world!"</span>)

<span class="codeKeyword">function</span> onPublicMessageHandler(message:<span class="codeIdentifier">String</span>, sender:User):<span class="codeIdentifier">Void</span>
{
    <span class="codeIdentifier">trace</span>(<span class="codeString">"User "</span> + sender.getName() + <span class="codeString">" said: "</span> + message)
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#sendPrivateMessage">sendPrivateMessage</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onPublicMessage">onPublicMessage</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Lite / Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="sendXtMessage"><h3>sendXtMessage</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code">function <b>sendXtMessage</b> (




</div><div class="code">xtName:String,
cmdName:String,
paramObj,
type:String,
roomId:Number) : Void</div><br class="clear" /></div></div><div class="description"> 	Send a request to a server side extension.<br />The request can be serialized using three different protocols: XML, JSON and String-based (aka "raw protocol"). <br />XML and JSON can both serialize complex objects with any level of nested properties, while the String protocol allows to send linear data delimited by a separator (see the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#rawProtocolSeparator">rawProtocolSeparator</a> property).<br /><br /><b>NOTE</b>: the use JSON instead of XML is highly recommended, as it can save a lot of bandwidth. The String-based protocol can be very useful for realtime applications/games where reducing the amount of data is the highest priority. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">xtName  <span class="itemSeparator">:</span></div><div>the name of the extension (see also the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#createRoom">createRoom</a> method).</div></div><div class="item"><div class="floatbox code colorizedCode">cmdName <span class="itemSeparator">:</span></div><div>the name of the action/command to execute in the extension.</div></div><div class="item"><div class="floatbox code colorizedCode">paramObj<span class="itemSeparator">:</span></div><div>an object containing the data to be passed to the extension (set to empty object if no data is required).</div></div><div class="item"><div class="floatbox code colorizedCode">type    <span class="itemSeparator">:</span></div><div>the protocol to be used for serialization (optional, default value: <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#PROTOCOL_XML">PROTOCOL_XML</a>). The following constants can be passed: <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#PROTOCOL_XML">PROTOCOL_XML</a>, <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#PROTOCOL_STR">PROTOCOL_STR</a>, <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#PROTOCOL_JSON">PROTOCOL_JSON</a>.</div></div><div class="item"><div class="floatbox code colorizedCode">roomId  <span class="itemSeparator">:</span></div><div>the id of the room where the request was originated, in case of multi-room join (optional, default value: <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#activeRoomId">activeRoomId</a>).</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Returns:</span><div class="item"><ul><li> Nothing. May cause the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onExtensionResponse">onExtensionResponse</a> handler to be called in response (depending on the extension implementation). </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to notify a multiplayer game server-side extension that a game action occurred.<br />			<pre>
<span class="codeComment">// A bullet is being fired</span>
<span class="codeKeyword">var</span> params:<span class="codeIdentifier">Object</span> = {}
params<span class="codeIdentifier">.type</span> = <span class="codeString">"bullet"</span>
params.posx = <span class="codeNumber">100</span>
params.posy = <span class="codeNumber">200</span>
params.speed = <span class="codeNumber">10</span>
params.angle = <span class="codeNumber">45</span>

<span class="codeComment">// Invoke "fire" command on the extension called "gameExt", using JSON protocol</span>
smartFox.sendXtMessage(<span class="codeString">"gameExt"</span>, <span class="codeString">"fire"</span>, params, SmartFoxClient.PROTOCOL_JSON)</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#rawProtocolSeparator">rawProtocolSeparator</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#PROTOCOL_XML">PROTOCOL_XML</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#PROTOCOL_JSON">PROTOCOL_JSON</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#PROTOCOL_STR">PROTOCOL_STR</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onExtensionResponse">onExtensionResponse</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Pro </li></ul></div></div></div></div></div><div class="member" id="setBuddyBlockStatus"><h3>setBuddyBlockStatus</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code">function <b>setBuddyBlockStatus</b> (

</div><div class="code">buddyName:String,
status:Boolean) : Void</div><br class="clear" /></div></div><div class="description"> 	Block or unblock a user in the buddy list.<br />When a buddy is blocked, SmartFoxServer does not deliver private messages from/to that user. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">buddyName<span class="itemSeparator">:</span></div><div>the name of the buddy to be blocked or unblocked.</div></div><div class="item"><div class="floatbox code colorizedCode">status   <span class="itemSeparator">:</span></div><div><code>true</code> to block the buddy, <code>false</code> to unblock the buddy.</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to block a user from the buddy list.<br />			<pre>
smartFox.setBuddyBlockStatus(<span class="codeString">"jack"</span>, <span class="codeIdentifier">true</span>)</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#buddyList">buddyList</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Since:</span><div class="item"><ul><li> SmartFoxServer Pro v1.6.0 </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Pro </li></ul></div></div></div></div></div><div class="member" id="setBuddyVariables"><h3>setBuddyVariables</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code">function <b>setBuddyVariables</b> (
</div><div class="code">varList:Object) : Void</div><br class="clear" /></div></div><div class="description"> 	Set the current user's Buddy Variables.<br />This method allows to set a number of properties of the current user as buddy of other users; in other words these variables will be received by the other users who have the current user as a buddy.<br /><br />Buddy Variables are the best way to share user's informations with all the other users having him/her in their buddy list.: for example the nickname, the current audio track the user is listening to, etc. The most typical usage is to set a variable containing the current user status, like "available", "occupied", "away", "invisible", etc.).<br /><br /><b>NOTE</b>: before the release of SmartFoxServer Pro v1.6.0, Buddy Variables could not be stored, and existed during the user session only. SmartFoxServer Pro v1.6.0 introduced the ability to persist (store) all Buddy Variables and the possibility to save "offline Buddy Variables" (see the following usage notes). </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">varList<span class="itemSeparator">:</span></div><div>an associative array, where the key is the name of the variable and the value is the variable's value. Buddy Variables should all be strings. If you need to use other data types you should apply the appropriate type casts.</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Usage note:</span><div class="item"><ul><li> Let's assume that three users (A, B and C) use an "istant messenger"-like application, and user A is part of the buddy lists of users B and C.<br />				If user A sets his own variables (using the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#setBuddyVariables">setBuddyVariables</a> method), the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#myBuddyVars">myBuddyVars</a> array on his client gets populated and the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onBuddyListUpdate">onBuddyListUpdate</a> handler is called on the clients of users B and C.<br />				User B and C can then read those variables in their own buddy lists by means of the <b>variables</b> property on the buddy object (which can be retrieved from the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#buddyList">buddyList</a> array by means of the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#getBuddyById">getBuddyById</a> or <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#getBuddyByName">getBuddyByName</a> methods).<hr />If the buddy list's <i>advanced security mode</i> is used (see the SmartFoxServer server-side configuration), Buddy Variables persistence is enabled: in this way regular variables are saved when a user goes offline and they are restored (and dispatched to the other users) when their owner comes back online.<br />				Also, setting the <code>&lt;offLineBuddyVariables&gt;</code> parameter to <code>true</code>, offline variables can be used: this kind of Buddy Variables is loaded regardless the buddy is online or not, providing further informations for each entry in the buddy list. A typical usage for offline variables is to define a buddy image or additional informations such as country, email, rank, etc.<br />				To creare an offline Buddy Variable, the "$" character must be placed before the variable name. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Returns:</span><div class="item"><ul><li> Nothing. Causes the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onBuddyListUpdate">onBuddyListUpdate</a> handler to be called. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to set three variables containing the user's status, the current audio track the user listening to and the user's rank. The last one is an offline variable.<br />			<pre>
<span class="codeKeyword">var</span> bVars:<span class="codeIdentifier">Object</span> = <span class="codeKeyword">new</span> <span class="codeIdentifier">Object</span>()
bVars[<span class="codeString">"status"</span>] = <span class="codeString">"away"</span>
bVars[<span class="codeString">"track"</span>] = <span class="codeString">"One Of These Days"</span>
bVars[<span class="codeString">"$rank"</span>] = <span class="codeString">"guru"</span>

smartFox.setBuddyVariables(bVars)</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#myBuddyVars">myBuddyVars</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onBuddyListUpdate">onBuddyListUpdate</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version history:</span><div class="item"><ul><li> SmartFoxServer Pro v1.6.0 - Buddy list's <i>advanced security mode</i> implemented (persistent and offline Buddy Variables). </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Basic (except <i>advanced mode</i>) / Pro </li></ul></div></div></div></div></div><div class="member" id="setRoomVariables"><h3>setRoomVariables</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code">function <b>setRoomVariables</b> (


</div><div class="code">varList:Array,
roomId:Number,
setOwnership:Boolean) : Void</div><br class="clear" /></div></div><div class="description"> 	Set one or more Room Variables.<br />Room Variables are a useful feature to share data across the clients, keeping it in a centralized place on the server. When a user sets/updates/deletes one or more Room Variables, all the other users in the same room are notified. <br />Allowed data types for Room Variables are Numbers, Strings and Booleans; in order save bandwidth, Arrays and Objects are not supported. Nevertheless, an array of values can be simulated, for example, by using an index in front of the name of each variable (check one of the following examples).<br />If a Room Variable is set to <code>null</code>, it is deleted from the server. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">varList     <span class="itemSeparator">:</span></div><div>an array of objects with the properties described farther on.</div></div><div class="item"><div class="floatbox code colorizedCode">roomId      <span class="itemSeparator">:</span></div><div>the id of the room where the variables should be set, in case of molti-room join (optional, default value: <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#activeRoomId">activeRoomId</a>).</div></div><div class="item"><div class="floatbox code colorizedCode">setOwnership<span class="itemSeparator">:</span></div><div><code>false</code> to prevent the Room Variable change ownership when its value is modified by another user (optional, default value: <code>true</code>).<hr />Each Room Variable is an object containing the following properties:</div></div><div class="item"><div class="floatbox code colorizedCode">name        <span class="itemSeparator">:</span></div><div>(<b>String</b>) the variable name.</div></div><div class="item"><div class="floatbox code colorizedCode">val         <span class="itemSeparator">:</span></div><div>(any supported data type) the variable value.</div></div><div class="item"><div class="floatbox code colorizedCode">priv        <span class="itemSeparator">:</span></div><div>(<b>Boolean</b>) if <code>true</code>, the variable can be modified by its creator only (optional, default value: <code>false</code>).</div></div><div class="item"><div class="floatbox code colorizedCode">persistent  <span class="itemSeparator">:</span></div><div>(<b>Boolean</b>) if <code>true</code>, the variable will exist until its creator is connected to the current zone; if <code>false</code>, the variable will exist until its creator is connected to the current room (optional, default value: <code>false</code>).</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Returns:</span><div class="item"><ul><li> Nothing. Causes the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onRoomVariablesUpdate">onRoomVariablesUpdate</a> handler to be called. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to save a persistent Room Variable called "score". This variable won't be destroyed when its creator leaves the room.<br />			<pre>
<span class="codeKeyword">var</span> rVars:<span class="codeIdentifier">Array</span> = <span class="codeKeyword">new</span> <span class="codeIdentifier">Array</span>()
rVars<span class="codeIdentifier">.push</span>({name:<span class="codeString">"score"</span>, val:<span class="codeNumber">2500</span>, persistent:<span class="codeIdentifier">true</span>})

smartFox.setRoomVariables(rVars)</pre><hr />The following example shows how to save two Room Variables at once. The one called "bestTime" is private and no other user except its owner can modify it.<br />			<pre>
<span class="codeKeyword">var</span> rVars:<span class="codeIdentifier">Array</span> = <span class="codeKeyword">new</span> <span class="codeIdentifier">Array</span>()
rVars<span class="codeIdentifier">.push</span>({name:<span class="codeString">"bestTime"</span>, val:<span class="codeNumber">100</span>, priv:<span class="codeIdentifier">true</span>})
rVars<span class="codeIdentifier">.push</span>({name:<span class="codeString">"bestLap"</span>, val:<span class="codeNumber">120</span>})

smartFox.setRoomVariables(rVars)</pre><hr />The following example shows how to delete a Room Variable called "bestTime" by setting its value to <code>null</code>.<br />			<pre>
<span class="codeKeyword">var</span> rVars:<span class="codeIdentifier">Array</span> = <span class="codeKeyword">new</span> <span class="codeIdentifier">Array</span>()
rVars<span class="codeIdentifier">.push</span>({name:<span class="codeString">"bestTime"</span>, val:<span class="codeIdentifier">null</span>})

smartFox.setRoomVariables(rVars)</pre><hr />The following example shows how to send an array-like set of data without consuming too much bandwidth.<br />			<pre>
<span class="codeKeyword">var</span> rVars:<span class="codeIdentifier">Array</span> = <span class="codeKeyword">new</span> <span class="codeIdentifier">Array</span>()
<span class="codeKeyword">var</span> names:<span class="codeIdentifier">Array</span> = [<span class="codeString">"john"</span>, <span class="codeString">"dave"</span>, <span class="codeString">"sam"</span>]

<span class="codeKeyword">for</span> (<span class="codeKeyword">var</span> i:<span class="codeIdentifier">Number</span> = <span class="codeNumber">0</span>; i &#60; names<span class="codeIdentifier">.length</span>; i++)
    rVars<span class="codeIdentifier">.push</span>({name:<span class="codeString">"name"</span> + i, val:names[i]})

smartFox.setRoomVariables(rVars)</pre><hr />The following example shows how to handle the data sent in the previous example when the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onRoomVariablesUpdate">onRoomVariablesUpdate</a> handler is called.<br />			<pre>
smartFox.onRoomVariablesUpdate = onRoomVariablesUpdateHandler

<span class="codeKeyword">function</span> onRoomVariablesUpdateHandler(room:Room, changedVars:<span class="codeIdentifier">Array</span>):<span class="codeIdentifier">Void</span>
{
        <span class="codeComment">// Iterate on the 'changedVars' array to check which variables were updated</span>
        <span class="codeKeyword">for</span> (<span class="codeKeyword">var</span> v:<span class="codeIdentifier">String</span> <span class="codeKeyword">in</span> changedVars)
            <span class="codeIdentifier">trace</span>(v + <span class="codeString">" room variable was updated; new value is: "</span> + room.getVariable(v))
}</pre><hr />The following example shows how to update a Room Variable without affecting the variable's ownership.<br />			By default, when a user updates a Room Variable, he becomes the "owner" of that variable. In some cases it could be needed to disable this behavoir by setting the <i>setOwnership</i> to <code>false</code>. <br />			<pre>
<span class="codeComment">// For example, a variable that is defined in the server-side xml configuration file is owned by the Server itself;</span>
<span class="codeComment">// if it's not set to private, its owner will change as soon as a user updates it.</span>
<span class="codeComment">// To avoid this change of ownership the setOwnership flag is set to false.</span>
<span class="codeKeyword">var</span> rVars:<span class="codeIdentifier">Array</span> = <span class="codeKeyword">new</span> <span class="codeIdentifier">Array</span>()
rVars<span class="codeIdentifier">.push</span>({name:"shipPosX<span class="codeString">", val:100})
rVars.push({name:"</span>shipPosY", val:<span class="codeNumber">200</span>})

smartFox.setRoomVariables(rVars, smartFox.getActiveRoom(), <span class="codeIdentifier">false</span>)</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_Room.html#getVariable">Room.getVariable</a> </li><li> <a href="it_gotoandplay_smartfoxserver_Room.html#getVariables">Room.getVariables</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onRoomVariablesUpdate">onRoomVariablesUpdate</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Lite / Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="setUserVariables"><h3>setUserVariables</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code">function <b>setUserVariables</b> (

</div><div class="code">varObj:Object,
roomId:Number) : Void</div><br class="clear" /></div></div><div class="description"> 	Set on or more User Variables.<br />User Variables are a useful tool to store user data that has to be shared with other users. When a user sets/updates/deletes one or more User Variables, all the other users in the same room are notified. <br />Allowed data types for User Variables are Numbers, Strings and Booleans; Arrays and Objects are not supported in order save bandwidth.<br />If a User Variable is set to <code>null</code>, it is deleted from the server. Also, User Variables are destroyed when their owner logs out or gets disconnected. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">varObj<span class="itemSeparator">:</span></div><div>an object in which each property is a variable to set/update.</div></div><div class="item"><div class="floatbox code colorizedCode">roomId<span class="itemSeparator">:</span></div><div>the room id where the request was originated, in case of molti-room join (optional, default value: <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#activeRoomId">activeRoomId</a>).</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Returns:</span><div class="item"><ul><li> Nothing. Causes the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onUserVariablesUpdate">onUserVariablesUpdate</a> handler to be called. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to save the user data (avatar name and position) in an avatar chat application.<br />			<pre>
<span class="codeKeyword">var</span> uVars:<span class="codeIdentifier">Object</span> = <span class="codeKeyword">new</span> <span class="codeIdentifier">Object</span>()
uVars.myAvatar = <span class="codeString">"Homer"</span>
uVars.posx = <span class="codeNumber">100</span>
uVars.posy = <span class="codeNumber">200</span>

smartFox.setUserVariables(uVars)</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onUserVariablesUpdate">onUserVariablesUpdate</a> </li><li> <a href="it_gotoandplay_smartfoxserver_User.html#getVariable">User.getVariable</a> </li><li> <a href="it_gotoandplay_smartfoxserver_User.html#getVariables">User.getVariables</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Lite / Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="switchPlayer"><h3>switchPlayer</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code">function <b>switchPlayer</b> (
</div><div class="code">roomId:Number) : Void</div><br class="clear" /></div></div><div class="description"> 	Turn a player inside a game room into a spectator.<br />All players have their <b>player id</b> property set to a value > 0; when a player becomes a spectator, his playerId is set to -1.<br />If the user joined more than one room, the id of the room where the switch should occurr must be passed to this method.<br />The switch operation is successful only if at least one spectator slot is available in the room. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">roomId<span class="itemSeparator">:</span></div><div>the id of the room where the player should be switched to spectator, in case of multi-room join (optional, default value: <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#activeRoomId">activeRoomId</a>).</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Returns:</span><div class="item"><ul><li> Nothing. Causes the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onPlayerSwitched">onPlayerSwitched</a> handler to be called in response. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to turn a player into a spectator.<br />			<pre>
smartFox.onPlayerSwitched = onPlayerSwitchedHandler

smartFox.switchPlayer()

<span class="codeKeyword">function</span> onPlayerSwitchedHandler(success:<span class="codeIdentifier">Boolean</span>, newId:<span class="codeIdentifier">Number</span>):<span class="codeIdentifier">Void</span>
{
    <span class="codeKeyword">if</span> (success)
        <span class="codeIdentifier">trace</span>(<span class="codeString">"You have been turned into a spectator; your id is: "</span> + newId)
    <span class="codeKeyword">else</span>
        <span class="codeIdentifier">trace</span>(<span class="codeString">"The attempt to switch from player to spectator failed!"</span>)
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_User.html#isSpectator">User.isSpectator</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onPlayerSwitched">onPlayerSwitched</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Pro </li></ul></div></div></div></div></div><div class="member" id="switchSpectator"><h3>switchSpectator</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code">function <b>switchSpectator</b> (
</div><div class="code">roomId:Number) : Void</div><br class="clear" /></div></div><div class="description"> 	Turn a spectator inside a game room into a player. <br />All spectators have their <b>player id</b> property set to -1; when a spectator becomes a player, his player id gets a number > 0, representing the player number. The player id values are assigned by the server, based on the order in which the players joined the room.<br />If the user joined more than one room, the id of the room where the switch should occurr must be passed to this method.<br />The switch operation is successful only if at least one player slot is available in the room. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">roomId<span class="itemSeparator">:</span></div><div>the id of the room where the spectator should be switched, in case of molti-room join (optional, default value: <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#activeRoomId">activeRoomId</a>).</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Returns:</span><div class="item"><ul><li> Nothing. Causes the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onSpectatorSwitched">onSpectatorSwitched</a> handler to be called in response. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to turn a spectator into a player.<br />			<pre>
smartFox.onSpectatorSwitched = onSpectatorSwitchedHandler

smartFox.switchSpectator()

<span class="codeKeyword">function</span> onSpectatorSwitchedHandler(success:<span class="codeIdentifier">Boolean</span>, newId:<span class="codeIdentifier">Number</span>):<span class="codeIdentifier">Void</span>
{
    <span class="codeKeyword">if</span> (success)
        <span class="codeIdentifier">trace</span>(<span class="codeString">"You have been turned into a player; your player id is "</span> + newId)
    <span class="codeKeyword">else</span>
        <span class="codeIdentifier">trace</span>(<span class="codeString">"The attempt to switch from spectator to player failed"</span>)
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onSpectatorSwitched">onSpectatorSwitched</a> </li><li> <a href="it_gotoandplay_smartfoxserver_User.html#isSpectator">User.isSpectator</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="uploadFile"><h3>uploadFile</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code">function <b>uploadFile</b> (



</div><div class="code">fileRef,
id:Number,
nick:String,
port:Number) : Void</div><br class="clear" /></div></div><div class="description"> 	Upload a file to the embedded webserver. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">fileRef<span class="itemSeparator">:</span></div><div>the FileReference object (see the example).</div></div><div class="item"><div class="floatbox code colorizedCode">id     <span class="itemSeparator">:</span></div><div>the user id (optional, default value: <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#myUserId">myUserId</a>).</div></div><div class="item"><div class="floatbox code colorizedCode">nick   <span class="itemSeparator">:</span></div><div>the user name (optional, default value: <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#myUserName">myUserName</a>).</div></div><div class="item"><div class="floatbox code colorizedCode">port   <span class="itemSeparator">:</span></div><div>the webserver's TCP port (optional, default value: <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#httpPort">httpPort</a>).</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Returns:</span><div class="item"><ul><li> Nothing. Upload events fired in response should be handled by the provided FileReference object (see the example). </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> Check the Upload Tutorial available here: <a href="http://www.smartfoxserver.com/docs/docPages/tutorials_pro/14_imageManager/">http://www.smartfoxserver.com/docs/docPages/tutorials_pro/14_imageManager/</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#myUserId">myUserId</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#myUserName">myUserName</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#httpPort">httpPort</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Since:</span><div class="item"><ul><li> SmartFoxServer Pro v1.5.0 </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Basic / Pro </li></ul></div></div></div></div></div></div><div class="memberSection"><h2 id="Eventhandlers">Event handlers</h2><div class="member" id="onAdminMessage"><h3>onAdminMessage</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>onAdminMessage</b>:Function
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> Called when a message from the Administrator is received.<br />Admin messages are special messages that can be sent by an Administrator to a user or group of users.<br />All client applications should implement this handler, or users won't be be able to receive important admin notifications!<br /><br />The following parameters are passed to this function. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">message<span class="itemSeparator">:</span></div><div>(<b>String</b>) the Administrator's message.</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to handle a message coming from the Administrator.<br />			<pre>
smartFox.onAdminMessage = onAdminMessageHandler

<span class="codeKeyword">function</span> onAdminMessageHandler(message:<span class="codeIdentifier">String</span>):<span class="codeIdentifier">Void</span>
{
    <span class="codeIdentifier">trace</span>(<span class="codeString">"Administrator said: "</span> + message)
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onModeratorMessage">onModeratorMessage</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="onBuddyList"><h3>onBuddyList</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>onBuddyList</b>:Function
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> Called when the buddy list for the current user is received or a buddy is added/removed.<br /><br />The following parameters are passed to this function. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">list<span class="itemSeparator">:</span></div><div>(<b>Array</b>) the buddy list. Refer to the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#buddyList">buddyList</a> property for a description of the buddy object's properties.</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to retrieve the properties of each buddy when the buddy list is received.<br />			<pre>
smartFox.onBuddyList = onBuddyListHandler

smartFox.loadBuddyList()		

<span class="codeKeyword">function</span> onBuddyListHandler(list:<span class="codeIdentifier">Array</span>):<span class="codeIdentifier">Void</span>
{
    <span class="codeKeyword">for</span> (<span class="codeKeyword">var</span> b:<span class="codeIdentifier">String</span> <span class="codeKeyword">in</span> list)
    {
        <span class="codeKeyword">var</span> buddy:<span class="codeIdentifier">Object</span> = list[b]

        <span class="codeIdentifier">trace</span>(<span class="codeString">"Buddy id: "</span> + buddy.id)
        <span class="codeIdentifier">trace</span>(<span class="codeString">"Buddy name: "</span> + buddy<span class="codeIdentifier">.name</span>)
        <span class="codeIdentifier">trace</span>(<span class="codeString">"Is buddy online? "</span> + buddy.isOnline ? <span class="codeString">"Yes"</span> : <span class="codeString">"No"</span>)
        <span class="codeIdentifier">trace</span>(<span class="codeString">"Is buddy blocked? "</span> + buddy.isBlocked ? <span class="codeString">"Yes"</span> : <span class="codeString">"No"</span>)

        <span class="codeIdentifier">trace</span>(<span class="codeString">"Buddy Variables:"</span>)
        <span class="codeKeyword">for</span> (<span class="codeKeyword">var</span> v:<span class="codeIdentifier">String</span> <span class="codeKeyword">in</span> buddy.variables)
            <span class="codeIdentifier">trace</span>(<span class="codeString">"\t"</span> + v + <span class="codeString">" --&#62; "</span> + buddy.variables[v])
    }
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onBuddyListError">onBuddyListError</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onBuddyListUpdate">onBuddyListUpdate</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onBuddyRoom">onBuddyRoom</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#buddyList">buddyList</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#loadBuddyList">loadBuddyList</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#addBuddy">addBuddy</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#removeBuddy">removeBuddy</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="onBuddyListError"><h3>onBuddyListError</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>onBuddyListError</b>:Function
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> Called when an error occurs while loading the buddy list.<br /><br />The following parameters are passed to this function. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">error<span class="itemSeparator">:</span></div><div>(<b>String</b>) the error message.</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to handle a potential error in buddy list loading.<br />			<pre>
smartFox.onBuddyListError = onBuddyListErrorHandler

<span class="codeKeyword">function</span> onBuddyListErrorHandler(error:<span class="codeIdentifier">String</span>):<span class="codeIdentifier">Void</span>
{
    <span class="codeIdentifier">trace</span>(<span class="codeString">"An error occurred while loading the buddy list: "</span> + error)
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onBuddyList">onBuddyList</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="onBuddyListUpdate"><h3>onBuddyListUpdate</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>onBuddyListUpdate</b>:Function
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> Called when the status or variables of a buddy in the buddy list change.<br /><br />The following parameters are passed to this function. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">buddy<span class="itemSeparator">:</span></div><div>(<b>Object</b>) an object representing the buddy whose status or Buddy Variables have changed. Refer to the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#buddyList">buddyList</a> property for a description of the buddy object's properties.</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to handle the online status change of a buddy.<br />			<pre>
smartFox.onBuddyListUpdate = onBuddyListUpdateHandler

<span class="codeKeyword">function</span> onBuddyListUpdateHandler(buddy:<span class="codeIdentifier">Object</span>):<span class="codeIdentifier">Void</span>
{
    <span class="codeKeyword">var</span> name:<span class="codeIdentifier">String</span> = buddy<span class="codeIdentifier">.name</span>
    <span class="codeKeyword">var</span> status:<span class="codeIdentifier">String</span> = (buddy.isOnline) ? <span class="codeString">"online"</span> : <span class="codeString">"offline"</span>

    <span class="codeIdentifier">trace</span>(<span class="codeString">"Buddy "</span> + name + <span class="codeString">" is currently "</span> + status)
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onBuddyList">onBuddyList</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#buddyList">buddyList</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#setBuddyBlockStatus">setBuddyBlockStatus</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#setBuddyVariables">setBuddyVariables</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="onBuddyPermissionRequest"><h3>onBuddyPermissionRequest</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>onBuddyPermissionRequest</b>:Function
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> Called when the current user receives a request to be added to the buddy list of another user.<br /><br />The following parameters are passed to this function. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">sender <span class="itemSeparator">:</span></div><div>(<b>String</b>) the name of the user requesting to add the current user to his/her buddy list.</div></div><div class="item"><div class="floatbox code colorizedCode">message<span class="itemSeparator">:</span></div><div>(<b>String</b>) a message accompaining the permission request. This message can't be sent from the client-side, but it's part of the advanced server-side buddy list features.</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to handle the request to be added to a buddy list.<br />			<pre>
smartFox.onBuddyPermissionRequest = onBuddyPermissionRequestHandler

<span class="codeKeyword">function</span> onBuddyPermissionRequestHandler(sender:<span class="codeIdentifier">String</span>, message:<span class="codeIdentifier">String</span>):<span class="codeIdentifier">Void</span>
{
    <span class="codeComment">// Display an alert attaching a movieclip from the Flash library</span>
    <span class="codeKeyword">var</span> alert_mc:<span class="codeIdentifier">MovieClip</span> = <span class="codeIdentifier">attachMovie</span>(<span class="codeString">"customAlertPanel"</span>, <span class="codeString">"customAlertPanel"</span>, <span class="codeNumber">100</span>)

    alert_mc.name_lb<span class="codeIdentifier">.text</span> = sender
    alert_mc.message_lb<span class="codeIdentifier">.text</span> = message
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#addBuddy">addBuddy</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Since:</span><div class="item"><ul><li> SmartFoxServer Pro v1.6.0 </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Pro </li></ul></div></div></div></div></div><div class="member" id="onBuddyRoom"><h3>onBuddyRoom</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>onBuddyRoom</b>:Function
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> Called when a response to a <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#getBuddyRoom">getBuddyRoom</a> request is received.<br /><br />The following parameters are passed to this function. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">idList<span class="itemSeparator">:</span></div><div>(<b>Array</b>) the list of id of the rooms in which the buddy is currently logged; if users can't be present in more than one room at the same time, the list will contain one room id only, at 0 index.</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to join the same room in which the buddy currently is.<br />			<pre>
smartFox.onBuddyRoom = onBuddyRoomHandler

<span class="codeKeyword">var</span> buddy:<span class="codeIdentifier">Object</span> = smartFox.getBuddyByName(<span class="codeString">"jack"</span>)
smartFox.getBuddyRoom(buddy)

<span class="codeKeyword">function</span> onBuddyRoomHandler(idList:<span class="codeIdentifier">Array</span>):<span class="codeIdentifier">Void</span>
{
    <span class="codeComment">// Reach the buddy in his room</span>
    smartFox<span class="codeIdentifier">.join</span>(idList[<span class="codeNumber">0</span>])
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#getBuddyRoom">getBuddyRoom</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="onConfigLoadFailure"><h3>onConfigLoadFailure</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>onConfigLoadFailure</b>:Function
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> Called when an error occurs while loading the external SmartFoxClient configuration file.<br /><br />The following parameters are passed to this function. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">message<span class="itemSeparator">:</span></div><div>(<b>String</b>) the error message.</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to handle a potential error in configuration loading.<br />			<pre>
smartFox.onConfigLoadFailure = onConfigLoadFailureHandler

smartFox.loadConfig(<span class="codeString">"testEnvironmentConfig.xml"</span>)

<span class="codeKeyword">function</span> onConfigLoadFailureHandler(message:<span class="codeIdentifier">String</span>):<span class="codeIdentifier">Void</span>
{
    <span class="codeIdentifier">trace</span>(<span class="codeString">"Failed loading config file: "</span> + message)
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onConfigLoadSuccess">onConfigLoadSuccess</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#loadConfig">loadConfig</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Since:</span><div class="item"><ul><li> SmartFoxServer Pro v1.6.0 </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Pro </li></ul></div></div></div></div></div><div class="member" id="onConfigLoadSuccess"><h3>onConfigLoadSuccess</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>onConfigLoadSuccess</b>:Function
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> Called when the external SmartFoxClient configuration file has been loaded successfully.<br />This handler is called only if the <i>autoConnect</i> parameter of the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#loadConfig">loadConfig</a> method is set to <code>false</code>; otherwise the connection is made and the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onConnection">onConnection</a> event fired.<br /><br />No parameters are provided. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to handle a successful configuration loading.<br />			<pre>
smartFox.onConfigLoadSuccess = onConfigLoadSuccessHandler

smartFox.loadConfig(<span class="codeString">"testEnvironmentConfig.xml"</span>, <span class="codeIdentifier">false</span>)

<span class="codeKeyword">function</span> onConfigLoadSuccessHandler():<span class="codeIdentifier">Void</span>
{
    <span class="codeIdentifier">trace</span>(<span class="codeString">"Config file loaded, now connecting..."</span>)

    smartFox<span class="codeIdentifier">.connect</span>(smartFox.ipAddress, smartFox.port)
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onConfigLoadFailure">onConfigLoadFailure</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#loadConfig">loadConfig</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Since:</span><div class="item"><ul><li> SmartFoxServer Pro v1.6.0 </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Pro </li></ul></div></div></div></div></div><div class="member" id="onConnection"><h3>onConnection</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>onConnection</b>:Function
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> Called when a response to the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#connect">connect</a> request is received.<br />The connection to SmartFoxServer may have succeeded or failed: the <i>success</i> parameter must be checked.<br /><br />The following parameters are passed to this function. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">success<span class="itemSeparator">:</span></div><div>(<b>Boolean</b>) the connection result: <code>true</code> if the connection succeeded, <code>false</code> if the connection failed.</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to handle the connection result.<br />			<pre>
    smartFox.onConnect = onConnectionHandler

smartFox<span class="codeIdentifier">.connect</span>(<span class="codeString">"127.0.0.1"</span>, <span class="codeNumber">9339</span>)

<span class="codeKeyword">function</span> onConnectionHandler(success:<span class="codeIdentifier">Boolean</span>):<span class="codeIdentifier">Void</span>
{
    <span class="codeKeyword">if</span> (success)
        <span class="codeIdentifier">trace</span>(<span class="codeString">"Connection successful"</span>)
    <span class="codeKeyword">else</span>
        <span class="codeIdentifier">trace</span>(<span class="codeString">"Connection failed"</span>)
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#connect">connect</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Lite / Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="onConnectionLost"><h3>onConnectionLost</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>onConnectionLost</b>:Function
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> Called when the connection with SmartFoxServer is closed (either from the client or from the server).<br /><br />No parameters are provided. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to handle a "connection lost" event.<br />			<pre>
smartFox.onConnectionLost = onConnectionLostHandler

<span class="codeKeyword">function</span> onConnectionLostHandler():<span class="codeIdentifier">Void</span>
{
    <span class="codeIdentifier">trace</span>(<span class="codeString">"Connection lost!"</span>)

    <span class="codeComment">// TODO: disable application interface</span>
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#disconnect">disconnect</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Lite / Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="onCreateRoomError"><h3>onCreateRoomError</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>onCreateRoomError</b>:Function
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> Called when an error occurs during the creation of a room.<br />Usually this happens when a client tries to create a room but its name is already taken.<br /><br />The following parameters are passed to this function. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">error<span class="itemSeparator">:</span></div><div>(<b>String</b>) the error message.</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to handle a potential error in room creation.<br />			<pre>
smartFox.onCreateRoomError = onCreateRoomErrorHandler

<span class="codeKeyword">var</span> roomObj:<span class="codeIdentifier">Object</span> = <span class="codeKeyword">new</span> <span class="codeIdentifier">Object</span>()
roomObj<span class="codeIdentifier">.name</span> = <span class="codeString">"The Entrance"</span>
roomObj.maxUsers = <span class="codeNumber">50</span>

smartFox.createRoom(roomObj)

<span class="codeKeyword">function</span> onCreateRoomErrorHandler(error:<span class="codeIdentifier">String</span>):<span class="codeIdentifier">Void</span>
{
    <span class="codeIdentifier">trace</span>(<span class="codeString">"Room creation error; the following error occurred: "</span> + error)
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#createRoom">createRoom</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Lite / Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="onExtensionResponse"><h3>onExtensionResponse</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>onExtensionResponse</b>:Function
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> Called when a command/response from a server-side extension is received.<br /><br />The following parameters are passed to this function. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">dataObj<span class="itemSeparator">:</span></div><div>(<b>Object</b>) an object containing all the data sent by the server-side extension; by convention, a String property called <b>_cmd</b> should always be present, to distinguish between different responses coming from the same extension.</div></div><div class="item"><div class="floatbox code colorizedCode">type   <span class="itemSeparator">:</span></div><div>(<b>String</b>) one of the following response protocol types: <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#PROTOCOL_XML">PROTOCOL_XML</a>, <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#PROTOCOL_STR">PROTOCOL_STR</a>, <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#PROTOCOL_JSON">PROTOCOL_JSON</a>. By default <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#PROTOCOL_XML">PROTOCOL_XML</a> is used.</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to handle an extension response.<br />			<pre>
smartFox.onExtensionResponse = onExtensionResponseHandler

<span class="codeKeyword">function</span> onExtensionResponseHandler(dataObj:<span class="codeIdentifier">Object</span>, type:<span class="codeIdentifier">String</span>):<span class="codeIdentifier">Void</span>
{
    <span class="codeKeyword">var</span> command:<span class="codeIdentifier">String</span> = dataObj._cmd

    <span class="codeComment">// Handle XML responses</span>
    <span class="codeKeyword">if</span> (type == SmartFoxClient.PROTOCOL_XML)
    {
        <span class="codeComment">// TODO: check command and perform required actions</span>
    }

    <span class="codeComment">// Handle RAW responses</span>
    <span class="codeKeyword">else</span> <span class="codeKeyword">if</span> (type == SmartFoxClient.PROTOCOL_STR)
    {
        <span class="codeComment">// TODO: check command and perform required actions</span>
    }

    <span class="codeComment">// Handle JSON responses</span>
    <span class="codeKeyword">else</span> <span class="codeKeyword">if</span> (type == SmartFoxClient.PROTOCOL_JSON)
    {
        <span class="codeComment">// TODO: check command and perform required actions</span>
    }
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#PROTOCOL_XML">PROTOCOL_XML</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#PROTOCOL_STR">PROTOCOL_STR</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#PROTOCOL_JSON">PROTOCOL_JSON</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#sendXtMessage">sendXtMessage</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Pro </li></ul></div></div></div></div></div><div class="member" id="onJoinRoom"><h3>onJoinRoom</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>onJoinRoom</b>:Function
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> Called when a room is joined successfully.<br /><br />The following parameters are passed to this function. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">room<span class="itemSeparator">:</span></div><div>(<b>Room</b>) the <a class="className" href="it_gotoandplay_smartfoxserver_Room.html">Room</a> object representing the joined room.</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to handle an successful room joining.<br />			<pre>
smartFox.onJoinRoom = onJoinRoomHandler

smartFox.joinRoom(<span class="codeString">"The Entrance"</span>)

<span class="codeKeyword">function</span> onJoinRoomHandler(room:Room):<span class="codeIdentifier">Void</span>
{
    <span class="codeIdentifier">trace</span>(<span class="codeString">"Room "</span> + room.getName() + <span class="codeString">" joined successfully"</span>)
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onJoinRoomError">onJoinRoomError</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#joinRoom">joinRoom</a> </li><li> <a class="className" href="it_gotoandplay_smartfoxserver_Room.html">Room</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Lite / Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="onJoinRoomError"><h3>onJoinRoomError</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>onJoinRoomError</b>:Function
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> Called when an error occurs while joining a room.<br />This error could happen, for example, if the user is trying to join a room which is currently full.<br /><br />The following parameters are passed to this function. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">error<span class="itemSeparator">:</span></div><div>(<b>String</b>) the error message.</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to handle a potential error in room joining.<br />			<pre>
smartFox.onJoinRoomError = onJoinRoomErrorHandler

smartFox.joinRoom(<span class="codeString">"The Entrance"</span>)

<span class="codeKeyword">function</span> onJoinRoomErrorHandler(error:<span class="codeIdentifier">String</span>):<span class="codeIdentifier">Void</span>
{
    <span class="codeIdentifier">trace</span>(<span class="codeString">"Room join error; the following error occurred: "</span> + error)
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onJoinRoom">onJoinRoom</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#joinRoom">joinRoom</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Lite / Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="onLogin"><h3>onLogin</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>onLogin</b>:Function
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> Called when the login to a SmartFoxServer zone has been attempted.<br /><br />The following parameters are passed to this function. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">response<span class="itemSeparator">:</span></div><div>(<b>Object</b>) an object containing the login result data.<hr />The <i>response</i> object contains the following properties:</div></div><div class="item"><div class="floatbox code colorizedCode">success <span class="itemSeparator">:</span></div><div>(<b>Boolean</b>) the login result: <code>true</code> if the login to the provided zone succeeded; <code>false</code> if login failed.</div></div><div class="item"><div class="floatbox code colorizedCode">name    <span class="itemSeparator">:</span></div><div>(<b>String</b>) the user's actual username.</div></div><div class="item"><div class="floatbox code colorizedCode">error   <span class="itemSeparator">:</span></div><div>(<b>String</b>) the error message in case of login failure.<br /><br /><b>NOTE 1</b>: the server sends the username back to the client because not all usernames are valid: for example, those containing bad words may have been filtered during the login process.<br /><br /><b>NOTE 2</b>: for SmartFoxServer PRO. If the Zone you are accessing uses a custom login the login-response will be sent from server side and you will need to handle it using the <b>onExtensionResponse</b> handler.<br />Additionally you will need to manually set the myUserId and myUserName properties if you need them. (This is automagically done by the API when using a <em>default login</em>)</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to handle the login result.<br />			<pre>
smartFox.onLogin = onLoginHandler

smartFox.login(<span class="codeString">"simpleChat"</span>, <span class="codeString">"jack"</span>)

<span class="codeKeyword">function</span> onLoginHandler(response:<span class="codeIdentifier">Object</span>):<span class="codeIdentifier">Void</span>
{
    <span class="codeKeyword">if</span> (response.success)
        <span class="codeIdentifier">trace</span>(<span class="codeString">"Successfully logged in as "</span> + response<span class="codeIdentifier">.name</span>)
    <span class="codeKeyword">else</span>
        <span class="codeIdentifier">trace</span>(<span class="codeString">"Zone login error; the following error occurred: "</span> + response.error)
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onLogout">onLogout</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#login">login</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onExtensionResponse">onExtensionResponse</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Lite / Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="onLogout"><h3>onLogout</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>onLogout</b>:Function
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> Called when the user logs out successfully.<br />After a successful logout the user is still connected to the server, but he/she has to login again into a zone, in order to be able to interact with the server.<br /><br />No parameters are provided. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to handle the "logout" event.<br />			<pre>
smartFox.onLogout = onLogoutHandler

smartFox.logout()

<span class="codeKeyword">function</span> onLogoutHandler():<span class="codeIdentifier">Void</span>
{
    <span class="codeIdentifier">trace</span>(<span class="codeString">"Logged out successfully"</span>)
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onLogin">onLogin</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#logout">logout</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Since:</span><div class="item"><ul><li> SmartFoxServer Pro v1.5.5 </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="onModeratorMessage"><h3>onModeratorMessage</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>onModeratorMessage</b>:Function
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> Called when a message from a Moderator is received.<br /><br />The following parameters are passed to this function. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">message<span class="itemSeparator">:</span></div><div>(<b>String</b>) the Moderator's message.</div></div><div class="item"><div class="floatbox code colorizedCode">sender <span class="itemSeparator">:</span></div><div>(<b>User</b>) the <a class="className" href="it_gotoandplay_smartfoxserver_User.html">User</a> object representing the Moderator.</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to handle a message coming from a Moderator.<br />			<pre>
smartFox.onModeratorMessage = onModeratorMessageHandler

<span class="codeKeyword">function</span> onModeratorMessageHandler(message:<span class="codeIdentifier">String</span>, sender:User):<span class="codeIdentifier">Void</span>
{
    <span class="codeIdentifier">trace</span>(<span class="codeString">"Moderator "</span> + sender.getName() + <span class="codeString">" said: "</span> + message)
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onAdminMessage">onAdminMessage</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#sendModeratorMessage">sendModeratorMessage</a> </li><li> <a class="className" href="it_gotoandplay_smartfoxserver_User.html">User</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Since:</span><div class="item"><ul><li> SmartFoxServer Pro v1.4.5 </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="onObjectReceived"><h3>onObjectReceived</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>onObjectReceived</b>:Function
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> Called when an Actionscript object is received.<br /><br />The following parameters are passed to this function. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">obj   <span class="itemSeparator">:</span></div><div>(<b>Object</b>) the Actionscript object received.</div></div><div class="item"><div class="floatbox code colorizedCode">sender<span class="itemSeparator">:</span></div><div>(<b>User</b>) the <a class="className" href="it_gotoandplay_smartfoxserver_User.html">User</a> object representing the user that sent the Actionscript object.</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to handle an Actionscript object received from a user.<br />			<pre>
smartFox.onObjectReceived = onObjectReceivedHandler

<span class="codeKeyword">function</span> onObjectReceivedHandler(obj:<span class="codeIdentifier">Object</span>, sender:User):<span class="codeIdentifier">Void</span>
{
    <span class="codeComment">// Assuming another client sent his X and Y positions in two properties called px, py</span>
    <span class="codeIdentifier">trace</span>(<span class="codeString">"Data received from user: "</span> + sender.getName())
    <span class="codeIdentifier">trace</span>(<span class="codeString">"X = "</span> + obj.px + <span class="codeString">", Y = "</span> + obj.py)
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#sendObject">sendObject</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#sendObjectToGroup">sendObjectToGroup</a> </li><li> <a class="className" href="it_gotoandplay_smartfoxserver_User.html">User</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Lite / Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="onPlayerSwitched"><h3>onPlayerSwitched</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>onPlayerSwitched</b>:Function
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> Called in response to the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#switchPlayer">switchPlayer</a> request.<br />The request to turn a player into a spectator may fail if another user did the same before your request, and there was only one spectator slot available.<br /><br />The following parameters are passed to this function. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">success<span class="itemSeparator">:</span></div><div>(<b>Boolean</b>) the switch result: <code>true</code> if the player was turned into a player, otherwise <code>false</code>.</div></div><div class="item"><div class="floatbox code colorizedCode">newId  <span class="itemSeparator">:</span></div><div>(<b>int</b>) the player id assigned by the server to the user. (-1 when successful)</div></div><div class="item"><div class="floatbox code colorizedCode">room   <span class="itemSeparator">:</span></div><div>(<b>Room</b>) the <a class="className" href="it_gotoandplay_smartfoxserver_Room.html">Room</a> object representing the room where the switch occurred.</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to turn a player into a spectator.<br />			<pre>
smartFox.onPlayerSwitched = onPlayerSwitchedHandler

smartFox.switchPlayer()

<span class="codeKeyword">function</span> onPlayerSwitchedHandler(success:<span class="codeIdentifier">Boolean</span>, newId:<span class="codeIdentifier">Number</span>):<span class="codeIdentifier">Void</span>
{
    <span class="codeKeyword">if</span> (success)
        <span class="codeIdentifier">trace</span>(<span class="codeString">"You have been turned into a spectator; your id is: "</span> + newId)
    <span class="codeKeyword">else</span>
        <span class="codeIdentifier">trace</span>(<span class="codeString">"The attempt to switch from player to spectator failed!"</span>)
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_User.html#getPlayerId">User.getPlayerId</a> </li><li> <a class="className" href="it_gotoandplay_smartfoxserver_Room.html">Room</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#switchPlayer">switchPlayer</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Pro </li></ul></div></div></div></div></div><div class="member" id="onPrivateMessage"><h3>onPrivateMessage</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>onPrivateMessage</b>:Function
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> Called when a private chat message is received.<br /><br />The following parameters are passed to this function. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">message<span class="itemSeparator">:</span></div><div>(<b>String</b>) the private message received.</div></div><div class="item"><div class="floatbox code colorizedCode">sender <span class="itemSeparator">:</span></div><div>(<b>User</b>) the <a class="className" href="it_gotoandplay_smartfoxserver_User.html">User</a> object representing the user that sent the message; this property is undefined if the sender isn't in the same room of the recipient.</div></div><div class="item"><div class="floatbox code colorizedCode">userId <span class="itemSeparator">:</span></div><div>(<b>Number</b>) the user id of the sender (useful in case of private messages across different rooms, when the <code>sender</code> object is not available).</div></div><div class="item"><div class="floatbox code colorizedCode">roomId <span class="itemSeparator">:</span></div><div>(<b>Number</b>) the id of the room where the sender is.</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to handle a private message.<br />			<pre>
smartFox.onPrivateMessage = onPrivateMessageHandler

smartFox.sendPrivateMessage(<span class="codeString">"Hallo Jack!"</span>, <span class="codeNumber">22</span>)

<span class="codeKeyword">function</span> onPrivateMessageHandler(message:<span class="codeIdentifier">String</span>, sender:User, roomId:<span class="codeIdentifier">Number</span>, userId:<span class="codeIdentifier">Number</span>):<span class="codeIdentifier">Void</span>
{
    <span class="codeIdentifier">trace</span>(<span class="codeString">"User "</span> + evt.params.sender.getName() + <span class="codeString">" sent the following private message: "</span> + evt.params<span class="codeIdentifier">.message</span>)
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onPublicMessage">onPublicMessage</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#sendPrivateMessage">sendPrivateMessage</a> </li><li> <a class="className" href="it_gotoandplay_smartfoxserver_User.html">User</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version history:</span><div class="item"><ul><li> SmartFoxServer Pro v1.5.0 - <i>roomId</i> and <i>userId</i> parameters added. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Lite / Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="onPublicMessage"><h3>onPublicMessage</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>onPublicMessage</b>:Function
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> Called when a public chat message is received.<br /><br />The following parameters are passed to this function. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">message<span class="itemSeparator">:</span></div><div>(<b>String</b>) the public message received.</div></div><div class="item"><div class="floatbox code colorizedCode">sender <span class="itemSeparator">:</span></div><div>(<b>User</b>) the <a class="className" href="it_gotoandplay_smartfoxserver_User.html">User</a> object representing the user that sent the message.</div></div><div class="item"><div class="floatbox code colorizedCode">roomId <span class="itemSeparator">:</span></div><div>(<b>Number</b>) the id of the room where the sender is.</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to handle a public message.<br />			<pre>
smartFox.onPublicMessage = onPublicMessageHandler

smartFox.sendPublicMessage(<span class="codeString">"Hello world!"</span>)

<span class="codeKeyword">function</span> onPublicMessageHandler(message:<span class="codeIdentifier">String</span>, sender:User, roomId:<span class="codeIdentifier">Number</span>):<span class="codeIdentifier">Void</span>
{
    <span class="codeIdentifier">trace</span>(<span class="codeString">"User "</span> + sender.getName() + <span class="codeString">" said: "</span> + message)
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onPrivateMessage">onPrivateMessage</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#sendPublicMessage">sendPublicMessage</a> </li><li> <a class="className" href="it_gotoandplay_smartfoxserver_User.html">User</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Lite / Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="onRandomKey"><h3>onRandomKey</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>onRandomKey</b>:Function
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> Called when a response to a <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#getRandomKey">getRandomKey</a> request is received.<br /><br />The following parameters are passed to this function. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">key<span class="itemSeparator">:</span></div><div>(<b>String</b>) a unique random key generated by the server.</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to handle the key received from the server.<br />			<pre>
smartFox.onRandomKey = onRandomKeyHandler

smartFox.getRandomKey()

<span class="codeKeyword">function</span> onRandomKeyHandler(key:<span class="codeIdentifier">String</span>):<span class="codeIdentifier">Void</span>
{
    <span class="codeIdentifier">trace</span>(<span class="codeString">"Random key received from server: "</span> + key)
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#getRandomKey">getRandomKey</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Pro </li></ul></div></div></div></div></div><div class="member" id="onRoomAdded"><h3>onRoomAdded</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>onRoomAdded</b>:Function
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> Called when a new room is created in the zone where the user is currently logged in.<br /><br />The following parameters are passed to this function. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">room<span class="itemSeparator">:</span></div><div>(<b>Room</b>) the <a class="className" href="it_gotoandplay_smartfoxserver_Room.html">Room</a> object representing the room that was created.</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to handle a new room being created in the zone.<br />			<pre>
smartFox.onRoomAdded = onRoomAddedHandler

<span class="codeKeyword">var</span> roomObj:<span class="codeIdentifier">Object</span> = <span class="codeKeyword">new</span> <span class="codeIdentifier">Object</span>()
roomObj<span class="codeIdentifier">.name</span> = <span class="codeString">"The Entrance"</span>
roomObj.maxUsers = <span class="codeNumber">50</span>

smartFox.createRoom(roomObj)

<span class="codeKeyword">function</span> onRoomAddedHandler(room:Room):<span class="codeIdentifier">Void</span>
{
    <span class="codeIdentifier">trace</span>(<span class="codeString">"Room "</span> + room.getName() + <span class="codeString">" was created"</span>)

    <span class="codeComment">// TODO: update available rooms list in the application interface</span>
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onRoomDeleted">onRoomDeleted</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#createRoom">createRoom</a> </li><li> <a class="className" href="it_gotoandplay_smartfoxserver_Room.html">Room</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Lite / Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="onRoomDeleted"><h3>onRoomDeleted</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>onRoomDeleted</b>:Function
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> Called when a room is removed from the zone where the user is currently logged in.<br /><br />The following parameters are passed to this function. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">room<span class="itemSeparator">:</span></div><div>(<b>Room</b>) the <a class="className" href="it_gotoandplay_smartfoxserver_Room.html">Room</a> object representing the room that was removed.</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to handle a new room being removed in the zone.<br />			<pre>
smartFox.onRoomDeleted = onRoomDeletedHandler

<span class="codeKeyword">function</span> onRoomDeletedHandler(room:Room):<span class="codeIdentifier">Void</span>
{
    <span class="codeIdentifier">trace</span>(<span class="codeString">"Room "</span> + room.getName() + <span class="codeString">" was removed"</span>)

    <span class="codeComment">// TODO: update available rooms list in the application interface</span>
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onRoomAdded">onRoomAdded</a> </li><li> <a class="className" href="it_gotoandplay_smartfoxserver_Room.html">Room</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Lite / Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="onRoomLeft"><h3>onRoomLeft</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>onRoomLeft</b>:Function
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> Called when a room is left in multi-room mode, after a response to a <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#leaveRoom">leaveRoom</a> request is received.<br /><br />The following parameters are passed to this function. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">roomId<span class="itemSeparator">:</span></div><div>(<b>Number</b>) the id of the room that was left.</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to handle the "room left" event.<br />			<pre>
smartFox.onRoomLeft = onRoomLeftHandler

<span class="codeKeyword">function</span> onRoomLeftHandler(roomId:<span class="codeIdentifier">Number</span>):<span class="codeIdentifier">Void</span>
{
    <span class="codeIdentifier">trace</span>(<span class="codeString">"You left room "</span> + roomId)
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#leaveRoom">leaveRoom</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="onRoomListUpdate"><h3>onRoomListUpdate</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>onRoomListUpdate</b>:Function
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> Called when the list of rooms available in the current zone is received.<br />If the default login mechanism provided by SmartFoxServer is used, then this handler is called right after a successful login.<br />This is because the SmartFoxServer API, internally, call the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#getRoomList">getRoomList</a> method after a successful login is performed.<br />If a custom login handler is implemented, the room list must be manually requested to the server by calling the mentioned method.<br /><br />The following parameters are passed to this function. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">roomList<span class="itemSeparator">:</span></div><div>(<b>Object</b>) an object containing all the <a class="className" href="it_gotoandplay_smartfoxserver_Room.html">Room</a> objects for the zone logged in by the user.</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to handle the list of rooms sent by SmartFoxServer.<br />			<pre>
smartFox.onRoomListUpdate = onRoomListUpdateHandler

smartFox.login(<span class="codeString">"simpleChat"</span>, <span class="codeString">"jack"</span>)

<span class="codeKeyword">function</span> onRoomListUpdateHandler(roomList:<span class="codeIdentifier">Object</span>):<span class="codeIdentifier">Void</span>
{
    <span class="codeComment">// Dump the names of the available rooms in the "simpleChat" zone</span>
    <span class="codeKeyword">for</span> (<span class="codeKeyword">var</span> r:<span class="codeIdentifier">String</span> <span class="codeKeyword">in</span> roomList)
        <span class="codeIdentifier">trace</span>(roomList[r].getName())
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#roomList">roomList</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#getRoomList">getRoomList</a> </li><li> <a class="className" href="it_gotoandplay_smartfoxserver_Room.html">Room</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Lite / Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="onRoomVariablesUpdate"><h3>onRoomVariablesUpdate</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>onRoomVariablesUpdate</b>:Function
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> Called when Room Variables are updated.<br />A user receives this notification only from the room(s) where he/she is currently logged in. Also, only the variables that changed are transmitted.<br /><br />The following parameters are passed to this function. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">room       <span class="itemSeparator">:</span></div><div>(<b>Room</b>) the <a class="className" href="it_gotoandplay_smartfoxserver_Room.html">Room</a> object representing the room where the update took place.</div></div><div class="item"><div class="floatbox code colorizedCode">changedVars<span class="itemSeparator">:</span></div><div>(<b>Array</b>) an associative array with the names of the changed variables as keys. The array can also be iterated through numeric indexes (0 to <code>changedVars.length</code>) to get the names of the variables that changed.<hr /><b>NOTE</b>: the <code>changedVars</code> array contains the names of the changed variables only, not the actual values. To retrieve them the <a href="it_gotoandplay_smartfoxserver_Room.html#getVariable">Room.getVariable</a> / <a href="it_gotoandplay_smartfoxserver_Room.html#getVariables">Room.getVariables</a> methods can be used.</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to handle an update in Room Variables.<br />			<pre>
smartFox.onRoomVariablesUpdate = onRoomVariablesUpdateHandler

<span class="codeKeyword">function</span> onRoomVariablesUpdateHandler(room:Room, changedVars:<span class="codeIdentifier">Array</span>):<span class="codeIdentifier">Void</span>
{
    <span class="codeComment">// Iterate on the 'changedVars' array to check which variables were updated</span>
    <span class="codeKeyword">for</span> (<span class="codeKeyword">var</span> v:<span class="codeIdentifier">String</span> <span class="codeKeyword">in</span> changedVars)
        <span class="codeIdentifier">trace</span>(v + <span class="codeString">" room variable was updated; new value is: "</span> + room.getVariable(v))
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#setRoomVariables">setRoomVariables</a> </li><li> <a class="className" href="it_gotoandplay_smartfoxserver_Room.html">Room</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="onRoundTripResponse"><h3>onRoundTripResponse</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>onRoundTripResponse</b>:Function
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> Called when a response to the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#roundTripBench">roundTripBench</a> request is received.<br />The "roundtrip time" represents the number of milliseconds that it takes to a message to go from the client to the server and back to the client.<br />A good way to measure the network lag is to send continuos requests (every 3 or 5 seconds) and then calculate the average roundtrip time on a fixed number of responses (i.e. the last 10 measurements).<br /><br />The following parameters are passed to this function. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">elapsed<span class="itemSeparator">:</span></div><div>(<b>Number</b>) the roundtrip time.</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to check the average network lag time.<br />			<pre>
smartFox.onRoundTripResponse = onRoundTripResponseHandler

<span class="codeKeyword">var</span> totalPingTime:<span class="codeIdentifier">Number</span> = <span class="codeNumber">0</span>
<span class="codeKeyword">var</span> pingCount:<span class="codeIdentifier">Number</span> = <span class="codeNumber">0</span>

smartFox.roundTripBench() <span class="codeComment">// TODO: this method must be called repeatedly every 3-5 seconds to have a significant average value</span>

<span class="codeKeyword">function</span> onRoundTripResponseHandler(elapsed:<span class="codeIdentifier">Number</span>):<span class="codeIdentifier">Void</span>
{
    <span class="codeComment">// We assume that it takes the same time to the ping message to go from the client to the server</span>
    <span class="codeComment">// and from the server back to the client, so we divide the elapsed time by 2.</span>
    totalPingTime += elapsed / <span class="codeNumber">2</span>
    pingCount++

    <span class="codeKeyword">var</span> avg:<span class="codeIdentifier">Number</span> = Math.round(totalPingTime / pingCount)

    <span class="codeIdentifier">trace</span>(<span class="codeString">"Average lag: "</span> + avg + <span class="codeString">" milliseconds"</span>)
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#roundTripBench">roundTripBench</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Lite / Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="onSpectatorSwitched"><h3>onSpectatorSwitched</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>onSpectatorSwitched</b>:Function
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> Called when a response to the <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#switchSpectator">switchSpectator</a> request is received.<br />The request to turn a spectator into a player may fail if another user did the same before your request, and there was only one player slot available.<br /><br />The following parameters are passed to this function. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">success<span class="itemSeparator">:</span></div><div>(<b>Boolean</b>) the switch result: <code>true</code> if the spectator was turned into a player, otherwise <code>false</code>.</div></div><div class="item"><div class="floatbox code colorizedCode">newId  <span class="itemSeparator">:</span></div><div>(<b>Number</b>) the player id assigned by the server to the user.</div></div><div class="item"><div class="floatbox code colorizedCode">room   <span class="itemSeparator">:</span></div><div>(<b>Room</b>) the <a class="className" href="it_gotoandplay_smartfoxserver_Room.html">Room</a> object representing the room where the switch occurred.</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to check the handle the spectator switch.<br />			<pre>
smartFox.onSpectatorSwitched = onSpectatorSwitchedHandler

smartFox.switchSpectator()

<span class="codeKeyword">function</span> onSpectatorSwitchedHandler(success:<span class="codeIdentifier">Boolean</span>, newId:<span class="codeIdentifier">Number</span>, room:Room):<span class="codeIdentifier">Void</span>
{
    <span class="codeKeyword">if</span> (success)
        <span class="codeIdentifier">trace</span>(<span class="codeString">"You have been turned into a player; your id is "</span> + newId)
    <span class="codeKeyword">else</span>
        <span class="codeIdentifier">trace</span>(<span class="codeString">"The attempt to switch from spectator to player failed"</span>)
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#switchSpectator">switchSpectator</a> </li><li> <a href="it_gotoandplay_smartfoxserver_User.html#getPlayerId">User.getPlayerId</a> </li><li> <a class="className" href="it_gotoandplay_smartfoxserver_Room.html">Room</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="onUserCountChange"><h3>onUserCountChange</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>onUserCountChange</b>:Function
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> Called when the number of users and/or spectators changes in a room within the current zone.<br />This event allows to keep track in realtime of the status of all the zone rooms in terms of users and spectators.<br />In case many rooms are used and the zone handles a medium to high traffic, this notification can be turned off to reduce bandwidth consumption, since a message is broadcasted to all users in the zone each time a user enters or exits a room.<br /><br />The following parameters are passed to this function. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">room<span class="itemSeparator">:</span></div><div>(<b>Room</b>) the <a class="className" href="it_gotoandplay_smartfoxserver_Room.html">Room</a> object representing the room where the change occurred.</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to check the handle the spectator switch notification.<br />			<pre>
smartFox.onUserCountChange = onUserCountChangeHandler

<span class="codeKeyword">function</span> onUserCountChangeHandler(room:Room):<span class="codeIdentifier">Void</span>
{
    <span class="codeComment">// Assuming this is a game room</span>

    <span class="codeKeyword">var</span> roomName:<span class="codeIdentifier">String</span> = room.getName()
    <span class="codeKeyword">var</span> playersNum:<span class="codeIdentifier">Number</span> = room.getUserCount()
    <span class="codeKeyword">var</span> spectatorsNum:<span class="codeIdentifier">Number</span> = room.getSpectatorCount()

    <span class="codeIdentifier">trace</span>(<span class="codeString">"Room "</span> + roomName + <span class="codeString">"has "</span> + playersNum + <span class="codeString">" players and "</span> + spectatorsNum + <span class="codeString">" spectators"</span>)
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onUserEnterRoom">onUserEnterRoom</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onUserLeaveRoom">onUserLeaveRoom</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#createRoom">createRoom</a> </li><li> <a class="className" href="it_gotoandplay_smartfoxserver_Room.html">Room</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="onUserEnterRoom"><h3>onUserEnterRoom</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>onUserEnterRoom</b>:Function
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> Called when another user joins the current room.<br /><br />The following parameters are passed to this function. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">roomId<span class="itemSeparator">:</span></div><div>(<b>Number</b>) the id of the room joined by a user (useful in case multi-room presence is allowed).</div></div><div class="item"><div class="floatbox code colorizedCode">user  <span class="itemSeparator">:</span></div><div>(<b>User</b>) the <a class="className" href="it_gotoandplay_smartfoxserver_User.html">User</a> object representing the user that joined the room.</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to check the handle the user entering room notification.<br />			<pre>
smartFox.onUserEnterRoom = onUserEnterRoomHandler

<span class="codeKeyword">function</span> onUserEnterRoomHandler(roomId:<span class="codeIdentifier">Number</span>, user:User):<span class="codeIdentifier">Void</span>
{
    <span class="codeIdentifier">trace</span>(<span class="codeString">"User "</span> + user.getName() + <span class="codeString">" entered the room"</span>)
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onUserLeaveRoom">onUserLeaveRoom</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onUserCountChange">onUserCountChange</a> </li><li> <a class="className" href="it_gotoandplay_smartfoxserver_User.html">User</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Lite / Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="onUserLeaveRoom"><h3>onUserLeaveRoom</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>onUserLeaveRoom</b>:Function
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> Called when a user leaves the current room.<br />This handler is also called when a user gets disconnected from the server.<br /><br />The following parameters are passed to this function. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">roomId  <span class="itemSeparator">:</span></div><div>(<b>Number</b>) the id of the room left by a user (useful in case multi-room presence is allowed).</div></div><div class="item"><div class="floatbox code colorizedCode">userId  <span class="itemSeparator">:</span></div><div>(<b>Number</b>) the id of the user that left the room (or got disconnected).</div></div><div class="item"><div class="floatbox code colorizedCode">userName<span class="itemSeparator">:</span></div><div>(<b>String</b>) the name of the user.</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to check the handle the user leaving room notification.<br />			<pre>
smartFox.onUserLeaveRoom = onUserLeaveRoomHandler

<span class="codeKeyword">function</span> onUserLeaveRoomHandler(roomId:<span class="codeIdentifier">Number</span>, userId:<span class="codeIdentifier">Number</span>, userName:<span class="codeIdentifier">String</span>):<span class="codeIdentifier">Void</span>
{
    <span class="codeIdentifier">trace</span>(<span class="codeString">"User "</span> + userName + <span class="codeString">" left the room"</span>)
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onUserEnterRoom">onUserEnterRoom</a> </li><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#onUserCountChange">onUserCountChange</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Lite / Basic / Pro </li></ul></div></div></div></div></div><div class="member" id="onUserVariablesUpdate"><h3>onUserVariablesUpdate</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><b>onUserVariablesUpdate</b>:Function
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description"> Called when a user in the current room updates his/her User Variables.<br /><br />The following parameters are passed to this function. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">user       <span class="itemSeparator">:</span></div><div>(<b>User</b>) the <a class="className" href="it_gotoandplay_smartfoxserver_User.html">User</a> object representing the user who updated his/her variables.</div></div><div class="item"><div class="floatbox code colorizedCode">changedVars<span class="itemSeparator">:</span></div><div>(<b>Array</b>) an associative array with the names of the changed variables as keys. The array can also be iterated through numeric indexes (0 to <code>changedVars.length</code>) to get the names of the variables that changed.<hr /><b>NOTE</b>: the <code>changedVars</code> array contains the names of the changed variables only, not the actual values. To retrieve them the <a href="it_gotoandplay_smartfoxserver_User.html#getVariable">User.getVariable</a> / <a href="it_gotoandplay_smartfoxserver_User.html#getVariables">User.getVariables</a> methods can be used.</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> The following example shows how to handle an update in User Variables.<br />			<pre>
smartFox.onUserVariablesUpdate = onUserVariablesUpdateHandler

<span class="codeKeyword">function</span> onUserVariablesUpdateHandler(user:User, changedVars:<span class="codeIdentifier">Array</span>):<span class="codeIdentifier">Void</span>
{
    <span class="codeComment">// We assume that each user has px and py variables representing the users's avatar coordinates in a 2D environment</span>

    <span class="codeKeyword">if</span> (changedVars["px<span class="codeString">"] != null || changedVars["</span>py<span class="codeString">"] != null)
    {
        trace("</span>User <span class="codeString">" + user.getName() + "</span> moved to <span class="codeKeyword">new</span> coordinates:<span class="codeString">")
        trace("</span>\t px: <span class="codeString">" + user.getVariable("</span>px<span class="codeString">"))
        trace("</span>\t py: <span class="codeString">" + user.getVariable("</span>py"))
    }
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="it_gotoandplay_smartfoxserver_SmartFoxClient.html#setUserVariables">setUserVariables</a> </li><li> <a class="className" href="it_gotoandplay_smartfoxserver_User.html">User</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Version:</span><div class="item"><ul><li> SmartFoxServer Lite / Basic / Pro </li></ul></div></div></div></div></div></div><div class="footer"><ul class="docFooter"><li class="copyright">&copy; The gotoAndPlay() Team</li></ul></div></div></div></body></html>